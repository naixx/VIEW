{"version":3,"sources":["../../src/pages/intervalometer/intervalometer.ts","../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/camera/camera.ts","../../src/pages/clips/clips.ts","../../src/pages/settings/settings.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/providers/view/view.ts","../../node_modules/moment/locale ^/.//.*$","../../src/app/app.component.ts"],"names":[],"mappings":"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AAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,OAAO,EAAC;gBACzC,EAAC,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,OAAO,EAAC;gBACzC,EAAC,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,OAAO,EAAC;gBACzC,EAAC,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,OAAO,EAAC;gBACzC,EAAC,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,OAAO,EAAC;gBACzC,EAAC,KAAK,EAAE,gBAAgB,EAAE,KAAK,EAAE,OAAO,EAAC;gBACzC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAAE,eAAe,EAAE,KAAK,EAAE,OAAO,EAAC;gBACxC,EAAC,KAAK,EAA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K,KAAI,CAAC,OAAO,EAAE,CAAC,EAAC,EAAE,IAAI,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;IACL,CAAC;IAvqCU,YAAY;QADvB,iEAAU,EAAE;yCAupBa,wEAAU,EAAiB,6DAAM,EAAkB,+DAAO;OAtpBxE,YAAY,CAyqCxB;IAAD,mBAAC;CAAA;AAzqCwB;;;;;;;;ACfzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"main.js","sourcesContent":["import { Component, ViewChild } from '@angular/core';\nimport { ModalController, NavParams, ViewController, NavController, AlertController, Events } from 'ionic-angular';\n\nimport { ViewProvider } from '../../providers/view/view';\nimport { MotionModalContentPage } from '../../app/app.component';\n\nimport { Chart } from 'chart.js';\nimport moment from 'moment';\n\n\n@Component({\n  selector: 'page-intervalometer',\n  templateUrl: 'intervalometer.html'\n})\nexport class IntervalometerPage {\n  private intervalHandle:any;\n  public camera:any = {};\n  public frames:any = {};\n  public motion:any = {};\n  public showAxisSetup:boolean = false;\n  public axisTypes:any = {};\n  public axes:any = {};\n  public intervalometer:any = {\n    program: {},\n    status: {}\n  };\n  \n  public allowedNonMotorAxes:any = ['interval', 'focus', 'ev'];\n\n  public viewMode: string = \"status\";\n\n  @ViewChild('chart') chartCanvas;\n  chart :any = null;\n\n  public lists:any = {\n    bracketing: [\n      {label: 'Single frames', value: 1},\n      {label: 'Multi-exposure Sets', value: 3}\n    ],\n    exposureMode: [\n      {label: 'Auto Ramping', value: 'auto'},\n      {label: 'Preset Value', value: 'preset'},\n      {label: 'Lock Exposure', value: 'locked'},\n    ],\n    intervalMode: [\n      {label: 'Auto Variable', value: 'auto'},\n      {label: 'Fixed', value: 'fixed'},\n    ],\n    bracketingFrames: [\n      {label: 'sets of 2', value: 2},\n      {label: 'sets of 3', value: 3},\n      {label: 'sets of 4', value: 4},\n      {label: 'sets of 5', value: 5},\n      {label: 'sets of 6', value: 6},\n      {label: 'sets of 7', value: 7},\n      {label: 'sets of 8', value: 8},\n      {label: 'sets of 9', value: 9},\n      {label: 'sets of 10', value: 10}\n    ],\n    bracketingStops: [\n      {label: '1/3 stop', value: 1/3},\n      {label: '2/3 stop', value: 2/3},\n      {label: '1 stop', value: 1},\n      {label: '1 1/3 stops', value: 1+1/3},\n      {label: '1 2/3 stops', value: 1+2/3},\n      {label: '2 stops', value: 2},\n      {label: '2 1/3 stops', value: 2+1/3},\n      {label: '2 2/3 stops', value: 2+2/3},\n      {label: '3 stops', value: 3},\n      {label: '3 1/3 stops', value: 3+1/3},\n      {label: '3 2/3 stops', value: 3+2/3},\n      {label: '4 stops', value: 4}\n    ],\n    panDirection: [\n      {label: 'Left', value: true},\n      {label: 'Right', value: false}\n    ],\n    tiltDirection: [\n      {label: 'Up', value: false},\n      {label: 'Down', value: true}\n    ],\n    trackingTarget: [\n      {label: 'Follow Sun', value: 'sun'},\n      {label: 'Follow Moon', value: 'moon'}\n    ],\n    trackingAxes: [\n      {label: 'Pan Only', value: 'pan'},\n      {label: 'Tilt Only', value: 'tilt'},\n      {label: 'Pan & Tilt', value: 'pan/tilt'}\n    ],\n    yesNo: [\n      {label: 'Yes', value: 'yes'},\n      {label: 'No', value: 'no'}\n    ],\n    yesNoBool: [\n      {label: 'Yes', value: true},\n      {label: 'No', value: false}\n    ],\n    enableDisable: [\n      {label: 'Enable', value: true},\n      {label: 'Disable', value: false}\n    ],\n    timeOfDay: [\n      {label: '00:00 (12:00a)', value: '00:00'},\n      {label: '00:30 (12:30a)', value: '00:30'},\n      {label: '01:00 (1:00a)', value: '01:00'},\n      {label: '01:30 (1:30a)', value: '01:30'},\n      {label: '02:00 (2:00a)', value: '02:00'},\n      {label: '02:30 (2:30a)', value: '02:30'},\n      {label: '03:00 (3:00a)', value: '03:00'},\n      {label: '03:30 (3:30a)', value: '03:30'},\n      {label: '04:00 (4:00a)', value: '04:00'},\n      {label: '04:30 (4:30a)', value: '04:30'},\n      {label: '05:00 (5:00a)', value: '05:00'},\n      {label: '05:30 (5:30a)', value: '05:30'},\n      {label: '06:00 (6:00a)', value: '06:00'},\n      {label: '06:30 (6:30a)', value: '06:30'},\n      {label: '07:00 (7:00a)', value: '07:00'},\n      {label: '07:30 (7:30a)', value: '07:30'},\n      {label: '08:00 (8:00a)', value: '08:00'},\n      {label: '08:30 (8:30a)', value: '08:30'},\n      {label: '09:00 (9:00a)', value: '09:00'},\n      {label: '09:30 (9:30a)', value: '09:30'},\n      {label: '10:00 (10:00a)', value: '10:00'},\n      {label: '10:30 (10:30a)', value: '10:30'},\n      {label: '11:00 (11:00a)', value: '11:00'},\n      {label: '11:30 (11:30a)', value: '11:30'},\n      {label: '12:00 (12:00p)', value: '12:00'},\n      {label: '12:30 (12:30p)', value: '12:30'},\n      {label: '13:00 (1:00p)', value: '13:00'},\n      {label: '13:30 (1:30p)', value: '13:30'},\n      {label: '14:00 (2:00p)', value: '14:00'},\n      {label: '14:30 (2:30p)', value: '14:30'},\n      {label: '15:00 (3:00p)', value: '15:00'},\n      {label: '15:30 (3:30p)', value: '15:30'},\n      {label: '16:00 (4:00p)', value: '16:00'},\n      {label: '16:30 (4:30p)', value: '16:30'},\n      {label: '17:00 (5:00p)', value: '17:00'},\n      {label: '17:30 (5:30p)', value: '17:30'},\n      {label: '18:00 (6:00p)', value: '18:00'},\n      {label: '18:30 (6:30p)', value: '18:30'},\n      {label: '19:00 (7:00p)', value: '19:00'},\n      {label: '19:30 (7:30p)', value: '19:30'},\n      {label: '20:00 (8:00p)', value: '20:00'},\n      {label: '20:30 (8:30p)', value: '20:30'},\n      {label: '21:00 (9:00p)', value: '21:00'},\n      {label: '21:30 (9:30p)', value: '21:30'},\n      {label: '22:00 (10:00p)', value: '22:00'},\n      {label: '22:30 (10:30p)', value: '22:30'},\n      {label: '23:00 (11:00p)', value: '23:00'},\n      {label: '23:30 (11:30p)', value: '23:30'},\n    ],\n    motionOptionsPan: [\n      {label: 'Disabled', value: 'disabled'},\n      {label: 'Constant Rate', value: 'constant'},\n      {label: 'Keyframe', value: 'keyframe'},\n      {label: 'Tracking', value: 'tracking'},\n    ],\n    motionOptionsPolar: [\n      {label: 'Disabled', value: 'disabled'},\n      {label: 'Constant Rate', value: 'constant'},\n      {label: 'Keyframe', value: 'keyframe'},\n      {label: 'Polar Tracking', value: 'polar'},\n    ],\n    motionOptionsTilt: [\n      {label: 'Disabled', value: 'disabled'},\n      {label: 'Constant Rate', value: 'constant'},\n      {label: 'Keyframe', value: 'keyframe'},\n      {label: 'Tracking', value: 'tracking'},\n    ],\n    motionOptionsOther: [\n      {label: 'Disabled', value: 'disabled'},\n      {label: 'Keyframe', value: 'keyframe'},\n    ],\n    polarAxes: [\n      {label: 'North', value: false},\n      {label: 'South', value: true},\n    ],\n    focusOptions: [\n      {label: 'Disabled', value: 'disabled'},\n      {label: 'Keyframe', value: 'keyframe'},\n    ],\n    lrtDirection: [\n      {label: 'Automatic (bi-directional)', value: 'auto'},\n      {label: 'Sunrise', value: 'sunrise'},\n      {label: 'Sunset', value: 'sunset'},\n    ],\n    delay: [\n      {label: '1 minute', value: 60},\n      {label: '5 minutes', value: 300},\n      {label: '10 minutes', value: 600},\n      {label: '20 minutes', value: 600*2},\n      {label: '30 minutes', value: 600*3},\n      {label: '40 minutes', value: 600*4},\n      {label: '50 minutes', value: 600*5},\n      {label: '60 minutes', value: 600*6},\n      {label: '1 hour 15 minutes', value: 3600+60*15},\n      {label: '1 hour 30 minutes', value: 3600+60*30},\n      {label: '1 hour 45 minutes', value: 3600+60*45},\n      {label: '2 hours', value: 3600*2},\n      {label: '2.5 hours', value: 3600*2.5},\n      {label: '3 hours', value: 3600*3},\n      {label: '3.5 hours', value: 3600*3.5},\n      {label: '4 hours', value: 3600*4},\n      {label: '4.5 hours', value: 3600*4.5},\n      {label: '5 hours', value: 3600*5}\n    ]\n  };\n\n  constructor(public navCtrl: NavController, private alertCtrl: AlertController, private viewApi: ViewProvider, public modalCtrl: ModalController, public events: Events) {\n    this.intervalometer = this.viewApi.intervalometer;\n    this.camera = this.viewApi.camera;\n    this.frames = this.viewApi.timelapse.frames;\n    this.motion = this.viewApi.motion;\n    if(!this.intervalometer.program.loaded) this.intervalometer.getProgram();\n    this.intervalometer.getStatus();\n    this.motion.get();\n    this.updateKeyframeData();\n    events.subscribe('intervalometer.program', () => {\n      this.updateKeyframeData();\n    })\n    events.subscribe('intervalometer.stopped', () => {\n      console.log(\"event: intervalometer stopped\");\n      this.intervalometer.getProgram();\n      this.chart = null;\n      this.ionViewDidLoad();\n      this.motion.get();\n    })\n    events.subscribe('motion.updated', () => {\n      console.log(\"event: motion updated\");\n      this.updateKeyframeData();\n    })\n    events.subscribe('camera.updated', () => {\n      console.log(\"event: motion updated\");\n      this.updateKeyframeData();\n    })\n  }\n\n  fromNow(time, useVerb) {\n    let verb = '';\n    if(useVerb) verb = time > Date.now() ? \"is \" : \"was \";\n    return verb + moment(time).fromNow();\n  }\n\n  utcCode(offsetMinutes) {\n    let sign = offsetMinutes < 0 ? '-' : '+';\n    offsetMinutes = Math.abs(offsetMinutes);\n    let m = offsetMinutes % 60;\n    let h = (offsetMinutes - m) / 60\n    let ms = m.toString();\n    let hs = h.toString();\n    if(ms.length < 2) ms = '0' + ms;\n    if(hs.length < 2) hs = '0' + hs;\n    return sign + hs + ':' + ms;\n  }\n\n  updateKeyframeData() {\n    if(this.viewApi.intervalometer.status.running) return;\n    if(!this.viewApi.intervalometer.program.hasOwnProperty('axes')) this.viewApi.intervalometer.program.axes = {};\n    this.axes = this.viewApi.intervalometer.program.axes;\n    for(let key in this.axes) this.axes[key].present = false;\n    for(let i = 0; i < this.motion.axis.length; i++) {\n      if(!this.axes.hasOwnProperty(this.motion.axis[i].id)) {\n        this.axes[this.motion.axis[i].id] = {\n          kf:[{seconds: 0, position: 0}],\n          type: 'disabled',\n          present: true\n        }\n      } \n      this.axes[this.motion.axis[i].id].motor = this.motion.axis[i]; // link motor if available\n      this.axes[this.motion.axis[i].id].present = this.motion.axis[i].connected;\n      this.axes[this.motion.axis[i].id].orientation = this.motion.axis[i].name ? this.motion.axis[i].name.toLowerCase() : \"\";\n    }\n    if(!this.axes.hasOwnProperty('focus')) {\n      this.axes.focus = {\n        kf:[{seconds: 0, position: this.camera.settings ? this.camera.settings.focusPos : 0}],\n        type: 'disabled',\n        pos: this.camera.settings ? this.camera.settings.focusPos : 0\n      }\n    }\n    if(this.camera && this.camera.supports && this.camera.supports.focus) {\n        this.axes.focus.present = true;\n        this.axes.focus.pos = this.camera.settings ? this.camera.settings.focusPos : 0;\n    }\n    for(let key in this.axes) {\n      if(!this.axes[key].present) {\n        this.axes[key] = null;\n        delete this.axes[key];\n        //console.log(\"deleted\", key);\n      }\n    }\n    let axisPresent = false;\n    for(let key in this.axes) {\n      //console.log(\"key\", key)\n      if(this.axes.hasOwnProperty(key)) {\n        axisPresent = true;\n        break;\n      }\n    }\n    //console.log(\"this.motion.axis.length\", this.motion.axis.length);\n    //console.log(\"axisPresent\", axisPresent);\n    //console.log(\"this.axes\", this.axes);\n    this.showAxisSetup = axisPresent;\n    this.ionViewDidLoad();\n    this.updateAxisTypes();\n  }\n\n  updateAxisTypes() {\n    let types = {}\n    let colorIndex = 0;\n    for(let key in this.axes) {\n      types[this.axes[key].type] = true;\n      this.axes[key].id = key;\n      if(key == 'focus') {\n        if(!this.axes[key].pos) this.axes[key].pos = this.camera.settings ? this.camera.settings.focusPos : 0;\n      } else {\n        if(!this.axes[key].pos) this.axes[key].pos = 0;\n      }\n      this.axes[key].colorIndex = colorIndex;\n      colorIndex++;\n      if(this.axes[key].type == \"tracking\") {\n        if(!this.axes[key].target) this.axes[key].target = 'moon';\n      }\n      if(this.axes[key].type == \"constant\") {\n        if(!this.axes[key].rate) this.axes[key].rate = 15;\n      }\n    }\n    this.axisTypes = types;\n    setTimeout(() => {\n      this.updateKeyframeChart();\n    }, 100);\n  }\n\n  ionViewDidLoad() {\n      if(!this.chartCanvas) return;\n      if(this.chart !== null) return;\n      this.chart = new Chart(this.chartCanvas.nativeElement, {\n\n          type: 'line',\n          data: this.intervalometer.getChartData(0, false),\n          options: {\n            animation: false,\n            legend: {\n              display: false,\n            },\n            layout: {\n              padding: {\n                top: 10,\n                bottom: 10\n              }\n            },\n            scales: {\n              yAxes: [{\n                display: false,\n                ticks: {\n                  beginAtZero:true,\n                }\n              }],\n              xAxes: [{\n                type: 'time',\n                distribution: 'linear',\n                time: {\n                    round: 'second',\n                    displayFormats: {          \n                        second: 'H:mm:ss',\n                        minute: 'H:mm',\n                        hour: 'H:mm',\n                        day: 'H:mm'\n                    }\n                }\n              }]\n            }\n          }\n\n      });\n  }\n\n  saveProgram(program) {\n    this.intervalometer.saveProgram(program, (err, res) => {\n      console.log(\"program saved:\", err, res);\n    });\n  }\n\n  start(program) {\n    if(!program) program = this.intervalometer.program;\n    this.viewMode = \"status\";\n    this.camera.histogram = [];\n    this.intervalometer.preview.image = null;\n    this.intervalometer.status.running = true;\n    this.intervalometer.status.message = \"loading...\";\n    this.camera.status = \"\";\n    for(let key in this.intervalometer.program.axes) {\n      console.log(\"checking axis\", key);\n      if(this.allowedNonMotorAxes.indexOf(key) !== -1) continue;\n      let found = false;\n      for(let i = 0; i < this.motion.axis.length; i++) {\n        if(this.motion.axis[i].id == key && this.motion.axis[i].connected) {\n          //if(this.intervalometer.program.axes[key].motor) this.intervalometer.program.axes[key].reverse = this.motion.axis[i].reverse;\n          found = true;\n          break;\n        }\n      }\n      if(found) continue;\n      this.intervalometer.program.axes[key] = null;\n      delete this.intervalometer.program.axes[key];\n      console.log(\" -- deleted\", key);\n    }\n    this.intervalometer.start(program);\n  }\n     \n  stop() {\n    let confirm = this.alertCtrl.create({\n      title: 'Stop time-lapse?',\n      message: 'this will stop the currently running time-lapse as soon as the current frame is completed.',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: () => {\n            console.log('Stop canceled');\n          }\n        },\n        {\n          text: 'STOP',\n          handler: () => {\n            this.intervalometer.stop();\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  startFrame() {\n    if(this.viewApi.timelapse.frames.current) {\n      if(this.viewApi.intervalometer.preview.playing) this.togglePlay();\n      this.viewApi.intervalometer.preview.frameIndex = 0;\n    }\n  }\n\n  endFrame() {\n    if(this.viewApi.timelapse.frames.current) {\n      if(this.viewApi.intervalometer.preview.playing) this.togglePlay();\n      this.viewApi.intervalometer.preview.frameIndex = this.viewApi.timelapse.frames.current.length - 1;\n    }\n  }\n\n  previousFrame() {\n    if(this.viewApi.timelapse.frames.current) {\n      if(this.viewApi.intervalometer.preview.playing) this.togglePlay();\n      if(this.viewApi.intervalometer.preview.frameIndex > 0) {\n        this.viewApi.intervalometer.preview.frameIndex--;\n      }\n    }\n  }\n\n  nextFrame() {\n    if(this.viewApi.timelapse.frames.current) {\n      if(this.viewApi.intervalometer.preview.playing) this.togglePlay();\n      if(this.viewApi.intervalometer.preview.frameIndex < this.viewApi.timelapse.frames.current.length - 1) {\n        this.viewApi.intervalometer.preview.frameIndex++;\n      }\n    }\n  }\n\n  updateFrame(event) {\n    if(this.viewApi.timelapse.frames.current) {\n      //if(clip.playing) this.togglePlay();\n      if(this.viewApi.intervalometer.preview.frameIndex >= 0 && this.viewApi.intervalometer.preview.frameIndex < this.viewApi.timelapse.frames.current.length) {\n        this.viewApi.intervalometer.preview.image = \"data:image/jpeg;base64,\" + this.viewApi.timelapse.frames.current[this.viewApi.intervalometer.preview.frameIndex];\n      }\n    }\n  }\n\n  togglePlay() {\n    if(this.viewApi.timelapse.frames.current && this.viewApi.intervalometer.status.frames == this.viewApi.timelapse.frames.current.length) {\n      if(this.viewApi.intervalometer.preview.playing) {\n        clearInterval(this.intervalHandle);\n        this.viewApi.intervalometer.preview.playing = false;\n      } else {\n        this.viewApi.intervalometer.preview.playing = true;\n        if(this.viewApi.intervalometer.preview.frameIndex >= this.viewApi.timelapse.frames.current.length -1) this.viewApi.intervalometer.preview.frameIndex = 0;\n        this.intervalHandle = setInterval(() => {\n          if(this.viewApi.intervalometer.preview.frameIndex >= this.viewApi.timelapse.frames.current.length - 1) return this.togglePlay();\n          this.viewApi.intervalometer.preview.frameIndex++;\n        }, 1000/30);\n      }\n    } else {\n      if(!this.viewApi.intervalometer.preview.loadingFrames) this.viewApi.timelapse.getCurrentFrames(()=>{this.togglePlay()});\n    }\n  }\n\n  focusOffset(steps) {\n    this.viewApi.intervalometer.status.focusDiffNew += steps;\n    this.viewApi.intervalometer.moveFocus(steps);\n  }\n\n  moveTracking(axis, degrees) {\n      this.viewApi.intervalometer.moveTracking(axis, degrees);\n      if(!this.intervalometer.status.panDiffNew) this.intervalometer.status.panDiffNew = 0;\n      if(!this.intervalometer.status.tiltDiffNew) this.intervalometer.status.tiltDiffNew = 0;\n      if(axis == 'Tilt') {\n          this.intervalometer.status.tiltDiffNew += degrees;\n      }\n      if(axis == 'Pan') {\n          this.intervalometer.status.panDiffNew += degrees;\n      }\n  }\n\n  sendSchedule() {\n    let newSchedule = {\n      schedMonday: this.intervalometer.program.schedMonday,\n      schedTuesday: this.intervalometer.program.schedTuesday,\n      schedWednesday: this.intervalometer.program.schedWednesday,\n      schedThursday: this.intervalometer.program.schedThursday,\n      schedFriday: this.intervalometer.program.schedFriday,\n      schedSaturday: this.intervalometer.program.schedSaturday,\n      schedSunday: this.intervalometer.program.schedSunday,\n      schedStart: this.intervalometer.program.schedStart,\n      schedStop: this.intervalometer.program.schedStop   \n    }\n    console.log(\"updateProgram:\", newSchedule);\n    this.viewApi.intervalometer.updateProgram(newSchedule);\n  }\n\n  doSelect(list, object, key, title, callback) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(title || \"select an option\");\n\n    for(let i = 0; i < list.length; i++) {\n      let item = list[i];\n      alert.addInput({\n        type: 'radio',\n        label: item.label || item.title || item.name,\n        value: item.ev != null ? item.ev : item.value,\n        checked: (item.value == object[key])\n      });\n    }\n\n    alert.addButton('Cancel');\n    alert.addButton(\n      {\n        text: 'Ok',\n        handler: (data: any) => {\n          console.log('Radio data:', data);\n          object[key] = data;\n          if(callback) callback.call(this);\n        }\n      }\n    );\n\n    alert.present();\n  }\n\n  doSetting(list, model, title, set) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(title || \"select an option\");\n\n    for(let i = 0; i < list.length; i++) {\n      let item = list[i];\n      alert.addInput({\n        type: 'radio',\n        label: item.label || item.title || item,\n        value: item,\n        checked: ((item.value || item.title || item)  == (model.value || model.title || model))\n      });\n    }\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Ok',\n      handler: (data: any) => {\n        console.log('Radio data:', data);\n        if(!model) model = {};\n        for(let key in data) {\n          model[key] = data[key];\n        }\n        if(set) {\n          console.log(\"setting\", set, \"to\", data.value);\n          this.camera.set(set, data.value);\n        }\n      }\n    });\n\n    alert.present();\n  }\n\n  doNumber(name, object, key) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(name || \"select an option\");\n\n    alert.addInput({\n      type: 'number',\n      value: object[key]\n    });\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Ok',\n      handler: (data: any) => {\n        console.log('Number data:', data);\n        object[key] = data[0];\n      }\n    });\n\n    alert.present();\n  }\n\n  formatSetting(list, ev) {\n    for(let i = 0; i < list.length; i++) {\n      if(list[i].ev == ev) {\n        return list[i].name || list[i].title;\n      }\n    }\n    return \"---\";\n  }\n\n\n  updateKeyframeChart() {\n    if(!this.chart) return;\n    this.chart.data = this.intervalometer.getChartData(0, false);\n    this.chart.update();\n  }\n\n  openKeyframe(index) {\n    let modal = this.modalCtrl.create(KeyframeModalContentPage, {keyframeIndex: index});\n    modal.onDidDismiss(data => {\n      this.updateKeyframeChart();\n    });\n    modal.present();\n  }\n\n  openUpdate(title:string, item:string, currentValue:any, rampable:boolean, list:any) {\n    if(typeof currentValue == 'number') {\n      currentValue = Math.round(currentValue * 100) / 100; // limit precision\n    }\n    let modal = this.modalCtrl.create(UpdateModalContentPage, {title: title, item: item, value: currentValue, rampable: rampable, list: list});\n    modal.onDidDismiss(data => {\n\n    });\n    modal.present();\n  }\n\n  openRampingOptions() {\n    let modal = this.modalCtrl.create(RampingModalContentPage, {});\n    modal.onDidDismiss(data => {\n\n    });\n    modal.present();\n  }\n\n  setup(axis) {\n    let modal = this.modalCtrl.create(MotionModalContentPage, {axisId: axis.id});\n    modal.present();\n  }\n}\n\n@Component({\n  selector: 'page-update',\n  templateUrl: 'update.modal.html'\n})\nexport class UpdateModalContentPage {\n  camera: any = {};\n  program: any = {};\n  intervalometer: any = {};\n  item: string = \"\";\n  value: any = null;\n  rampable: boolean = false;\n  list: any = [];\n  title:string = \"\";\n\n  updateObj:any = {frames: 30};\n\n  rampOptions:any = [\n      {label: 'Apply Immediately', value: 0},\n      {label: 'Apply across 10 frames', value: 10},\n      {label: 'Apply across 20 frames', value: 20},\n      {label: 'Apply across 30 frames', value: 30},\n      {label: 'Apply across 40 frames', value: 40},\n      {label: 'Apply across 50 frames', value: 50},\n      {label: 'Apply across 60 frames', value: 60},\n      {label: 'Apply across 90 frames', value: 90},\n      {label: 'Apply across 120 frames', value: 120},\n      {label: 'Apply across 180 frames', value: 180},\n      {label: 'Apply across 240 frames', value: 240}\n    ];\n\n\n  constructor(\n    public params: NavParams,\n    public viewCtrl: ViewController,\n    private viewApi: ViewProvider,\n    private alertCtrl: AlertController\n    //private modalCtrl: ModalController\n  ) {\n    this.program = this.viewApi.intervalometer.program;\n    this.intervalometer = this.viewApi.intervalometer;\n    this.camera = this.viewApi.camera;\n    this.item = this.params.get('item');\n    this.value = this.params.get('value');\n    this.updateObj.value = this.value;\n    this.rampable = this.params.get('rampable');\n    this.list = this.params.get('list');\n    this.title = this.params.get('title');\n  }\n  doSelect(list, object, key, title, callback) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(title || \"select an option\");\n\n    for(let i = 0; i < list.length; i++) {\n      let item = list[i];\n      alert.addInput({\n        type: 'radio',\n        label: item.label,\n        value: item.value,\n        checked: (item.value == object[key])\n      });\n    }\n\n    alert.addButton('Cancel');\n    alert.addButton(\n      {\n        text: 'Ok',\n        handler: (data: any) => {\n          console.log('Radio data:', data);\n          object[key] = data;\n          if(callback) callback.call(this);\n        }\n      }\n    );\n\n    alert.present();\n  }\n\n  doNumber(name, object, key) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(name || \"select an option\");\n\n    alert.addInput({\n      type: 'number',\n      value: object[key]\n    });\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Ok',\n      handler: (data: any) => {\n        console.log('Number data:', data);\n        object[key] = data[0];\n      }\n    });\n\n    alert.present();\n  }\n\n  apply() {\n    console.log(\"updating\", this.item, \"to\", this.updateObj.value);\n    this.intervalometer.dynamicChange(this.item, this.updateObj.value, this.updateObj.frames);\n    this.dismiss();\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n@Component({\n  selector: 'page-update',\n  templateUrl: 'ramping.modal.html'\n})\nexport class RampingModalContentPage {\n  program: any = {};\n  isoList: any = [];\n  apertureList: any = [];\n  shutterList: any = [];\n\n  lists: any = {\n    rampAlgorithm: [\n      {label: 'PID Luminance', value: 'lum'},\n      {label: 'LRTimelapse', value: 'lrt'}\n    ],\n    rampParameters: [\n      {label: 'Shutter, ISO', value: 'S+I'},\n      {label: 'Shutter, ISO (balanced)', value: 'S=I'},\n      {label: 'Shutter, ISO, Aperture', value: 'S+I+A'},\n      {label: 'Shutter, ISO, Aperture (balanced)', value: 'S=I=A'}\n    ],\n    nightCompensation: [\n      {label: 'Automatic', value: 'auto'},\n      {label: '0 (same as day)', value: 0},\n      {label: '-1/3 stop', value: -0.33},\n      {label: '-2/3 stop', value: -0.66},\n      {label: '-1 stop', value: -1},\n      {label: '-1 1/3 stops', value: -1.33},\n      {label: '-1 2/3 stops', value: -1.66},\n      {label: '-2 stops', value: -2},\n    ],\n  };\n\n\n\n  constructor(\n    public viewCtrl: ViewController,\n    private viewApi: ViewProvider,\n    private alertCtrl: AlertController\n    //private modalCtrl: ModalController\n  ) {\n    this.program = this.viewApi.intervalometer.program;\n    let camera = this.viewApi.camera;\n    if(camera.isoAvailable.length) {\n      this.isoList = camera.isoAvailable.map((item) => {return {label: item.title, value: item.ev}}).filter((item) => { return item.value != null });\n      this.isoList.unshift({label: 'no limit', value: null});\n    }\n    if(camera.apertureAvailable.length) {\n      this.apertureList = camera.apertureAvailable.map((item) => {return {label: item.title, value: item.ev}}).filter((item) => { return item.value != null });\n      this.apertureList.unshift({label: 'no limit', value: null});\n    }\n    if(camera.shutterAvailable.length) {\n      this.shutterList = camera.shutterAvailable.map((item) => {return {label: item.title, value: item.ev}}).filter((item) => { return item.value != null });\n      this.shutterList.unshift({label: 'no limit', value: null});\n    }\n  }\n  mapEv(ev, list) {\n    if(ev === null) return 'no limit';\n    ev = Math.floor(ev * 10);\n    for(let i = 0; i < list.length; i++) {\n      if(list[i].value == null) continue;\n      if(ev == Math.floor(list[i].value * 10)) return list[i].label;\n    }\n    console.log(\"not found in list:\", ev, list);\n    return ev;\n  }\n  doSelect(list, object, key, title, callback) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(title || \"select an option\");\n\n    for(let i = 0; i < list.length; i++) {\n      let item = list[i];\n      alert.addInput({\n        type: 'radio',\n        label: item.label,\n        value: item.value,\n        checked: (item.value === object[key])\n      });\n    }\n\n    alert.addButton('Cancel');\n    alert.addButton(\n      {\n        text: 'Ok',\n        handler: (data: any) => {\n          if(data == \"\") data = null;\n          console.log('Radio data:', data, typeof(data));\n          object[key] = data;\n          if(callback) callback.call(this);\n        }\n      }\n    );\n\n    alert.present();\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n@Component({\n  selector: 'page-keyframe',\n  templateUrl: 'keyframe.modal.html'\n})\nexport class KeyframeModalContentPage {\n  motion: any = {};\n  keyframes: any = [];\n  camera: any = {};\n  axes: any = {};\n  axesArray: any = [];\n  program: any = {};\n  intervalometer: any = {};\n  colors: any = {};\n  posSeconds: number = 0;\n  noUpdatePosSeconds: number = 0;\n\n  xSlide = 0;\n\n  f: any = {\n    pos: 0\n  }\n\n  @ViewChild('chart') chartCanvas;\n  chart :any;\n\n  lengthString: any = \"\";\n  selectionString: any = \"\";\n\n  constructor(\n    public params: NavParams,\n    public viewCtrl: ViewController,\n    private viewApi: ViewProvider,\n    private alertCtrl: AlertController,\n    private modalCtrl: ModalController\n  ) {\n    this.motion = this.viewApi.motion;\n    if(!this.viewApi.intervalometer.program.axes) this.viewApi.intervalometer.program.axes = {};\n    this.axes = this.viewApi.intervalometer.program.axes;\n    for(let key in this.axes) {\n      this.axesArray.push(this.axes[key]); \n    }\n    this.program = this.viewApi.intervalometer.program;\n    this.intervalometer = this.viewApi.intervalometer;\n    this.camera = this.viewApi.camera;\n    this.colors = this.viewApi.colors;\n    setTimeout(()=>{\n      this.updateLengthStrings(0, 0);\n      this.refreshChart();\n    });\n  }\n\n  doDuration(name, object, key) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(name || \"enter a duration\");\n\n    if(object === false) object = this;\n\n    let val = object[key];\n    let s = val % 60;\n    val -= s;\n    val /= 60;\n    let m = val % 60;\n    val -= m;\n    val /= 60;\n    let h = val;\n\n    alert.addInput({\n      placeholder: 'hours',\n      type: 'number',\n      value: h.toString()\n    });\n    alert.addInput({\n      placeholder: 'minutes',\n      type: 'number',\n      value: m.toString()\n    });\n    alert.addInput({\n      placeholder: 'seconds',\n      type: 'number',\n      value: s.toString()\n    });\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Ok',\n      handler: (data: any) => {\n        object[key] = (parseInt(data[0])||0) * 3600 + (parseInt(data[1])||0) * 60 + (parseInt(data[2])||0);\n        console.log('Seconds data:', data, object[key]);\n        if(this.posSeconds > this.program.durationSeconds) this.posSeconds = this.program.durationSeconds;\n        let posSeconds = this.posSeconds;\n        let newSlidePos = Math.round((this.posSeconds / this.program.durationSeconds) * 100);\n        console.log(\"jumping to \", this.posSeconds, \"seconds = \", newSlidePos);\n        this.updateLengthStrings(newSlidePos, (this.xSlide == newSlidePos) ? 1 : 2);\n        this.xSlide = newSlidePos;\n        this.posSeconds = posSeconds;\n        this.refreshChart();\n      }\n    });\n\n    alert.present();\n  }\n\n  toggleInterpolation(axis) {\n    if(axis.interpolation == 'linear') {\n      axis.interpolation = 'smooth';\n    } else {\n      axis.interpolation = 'linear';\n    }\n    this.refreshChart();\n  }\n\n  interpolate(method, keyframes, xPos) {\n    if(method == 'linear') {\n      return this.interpolateLinear(keyframes, xPos);\n    } else {\n      return this.interpolateSmooth(keyframes, xPos);\n    }\n  }\n\n  interpolateLinear(keyframes, xVal) {\n    let xyPoints = keyframes.map((kf) => {\n        return {\n            x: kf.seconds,\n            y: kf.position || 0\n        }\n    }).sort(function(a, b) {\n        if(a.x < b.x) return -1;\n        if(a.x > b.x) return 1;\n        return 0;                \n    });\n\n    // validate and sort by x\n    let p = xyPoints.filter(function(item) {\n        return item.x !== undefined && item.y !== undefined;\n    }).sort(function(a, b) {\n        if(a.x < b.x) return -1;\n        if(a.x > b.x) return 1;\n        return 0;      \n    });\n\n    if(typeof p != 'object' || !p.length) return null;\n\n    let limits = {max: p[0].y, min: p[0].y};\n\n    for(let i = 0; i < p.length; i++) {\n        if(limits.max < p[i].y) limits.max = p[i].y;\n        if(limits.min > p[i].y) limits.min = p[i].y;\n    }\n\n    let res = null;\n    for (let i = 0; i < p.length; i++) {\n        if (i == 0 && xVal <= p[i].x) {\n            res = p[i].y;\n            break;\n        }\n        if (i > 0 && xVal < p[i].x) {\n            let xRange = p[i].x - p[i - 1].x;\n            let factor = (xVal - p[i - 1].x) / xRange;\n            if (factor <= 1.0) {\n                let yRange = p[i].y - p[i - 1].y;\n                res = p[i - 1].y + yRange * factor;\n                break;\n            }\n        }\n        if (i == p.length - 1 && xVal >= p[i].x) {\n            res = p[i].y;\n            break;\n        }\n    }\n\n    // safety check\n    if(res > limits.max) res = limits.max;\n    if(res < limits.min) res = limits.min;\n\n    return res;\n  }\n\n  interpolateSmooth(keyframes, xPos) {\n    let smoothStep = function(x) {\n      return x*x*(3 - 2*x);\n    }\n\n    let pointSlope = function(index, dataPoints) {\n      let slope = 0;\n      if(index > 0 && index < dataPoints.length - 1) {\n        if((dataPoints[index - 1].y < dataPoints[index].y && dataPoints[index].y < dataPoints[index + 1].y) || (dataPoints[index - 1].y > dataPoints[index].y && dataPoints[index].y > dataPoints[index + 1].y)) {\n          let xSpan = dataPoints[index].x - dataPoints[index - 1].x;\n          let ySpan = dataPoints[index].y - dataPoints[index - 1].y;\n          let slope1 = ySpan / xSpan;\n          xSpan = dataPoints[index + 1].x - dataPoints[index].x;\n          ySpan = dataPoints[index + 1].y - dataPoints[index].y;\n          let slope2 = ySpan / xSpan;\n          let t = (dataPoints[index].x - dataPoints[index - 1].x) / (dataPoints[index + 1].x - dataPoints[index - 1].x);\n          slope = (slope1 * (1-t)) + (slope2 * t);\n        }\n      }\n      return slope;\n    }\n\n    let smooth = function(xyPoints, xVal) {\n      let lastIndex = null;\n      let nextIndex = null;\n      for(let i = 0; i < xyPoints.length; i++) {\n        if(lastIndex == null || xyPoints[i].x <= xVal) lastIndex = i;\n        if(xyPoints[i].x > xVal) {\n          nextIndex = i;\n          break;\n        }\n      }\n      if(nextIndex == null) nextIndex = xyPoints.length - 1;\n      \n      let tSpan = (xyPoints[nextIndex].x - xyPoints[lastIndex].x);\n      if(tSpan == 0) return xyPoints[lastIndex].y;\n      let t = (xVal - xyPoints[lastIndex].x) / tSpan;\n      let tS = smoothStep(t);\n      \n      let lastSlope = pointSlope(lastIndex, xyPoints);\n      let nextSlope = pointSlope(nextIndex, xyPoints);\n\n      let lastVal = xyPoints[lastIndex].y;\n      let nextVal = xyPoints[nextIndex].y;\n      let d1 = 1;\n      let d2 = 1;\n      if(Math.abs(nextVal - lastVal) > 0 && lastSlope > 0) d1 = (lastSlope * tSpan) / Math.abs(nextVal - lastVal);\n      if(Math.abs(nextVal - lastVal) > 0 && nextSlope > 0) d2 = (nextSlope * tSpan) / Math.abs(nextVal - lastVal);\n      let y1 = lastVal + (lastSlope * t*tSpan) / (1+d1*t);\n      let y2 = nextVal - (nextSlope * (1-t) * tSpan) / (1+d2*(1-t));\n      \n      if(y1 > Math.max(lastVal, nextVal)) y1 = Math.max(lastVal, nextVal);\n      if(y2 > Math.max(lastVal, nextVal)) y2 = Math.max(lastVal, nextVal);\n      if(y1 < Math.min(lastVal, nextVal)) y1 = Math.min(lastVal, nextVal);\n      if(y2 < Math.min(lastVal, nextVal)) y2 = Math.min(lastVal, nextVal);\n      \n      let y = (y1 * (1-tS)) + (y2 * tS);\n      \n      return y;\n    }\n\n    let points = keyframes.map((kf) => {\n        return {\n            x: kf.seconds,\n            y: kf.position || 0\n        }\n    }).sort(function(a, b) {\n        if(a.x < b.x) return -1;\n        if(a.x > b.x) return 1;\n        return 0;                \n    });\n\n    return smooth(points, xPos);\n  }\n\n  updateLengthStrings(percent:number, noUpdatePosSeconds:number) {\n    if(!percent) percent = 0;\n    let h = Math.floor(this.program.durationSeconds / 3600);\n    let m = Math.floor((this.program.durationSeconds - h * 3600) / 60);\n    let s = this.program.durationSeconds % 60;\n    this.lengthString = \"\";\n    if(h > 0) this.lengthString = h.toString() + \"h\";\n    if(m < 10) this.lengthString += \"0\";\n    this.lengthString += m.toString() + \"m\";\n    if(!h||s) {\n      if(s < 10) this.lengthString += \"0\";\n      this.lengthString += s.toString() + \"s\";      \n    }\n\n    if(!noUpdatePosSeconds && !this.noUpdatePosSeconds) this.posSeconds = Math.round(this.program.durationSeconds * (percent / 100));    \n    h = Math.floor(this.posSeconds / 3600);\n    m = Math.floor((this.posSeconds - h * 3600) / 60);\n    s = this.posSeconds % 60;\n    this.selectionString = \"\";\n    if(h > 0) this.selectionString = h.toString() + \"h\";\n    if(m < 10) this.selectionString += \"0\";\n    this.selectionString += m.toString() + \"m\";\n    if(s < 10) this.selectionString += \"0\";\n    this.selectionString += s.toString() + \"s\";\n    this.noUpdatePosSeconds = noUpdatePosSeconds == 2 ? 1 : 0;\n  }\n\n  refreshChart() {\n    for(let m in this.axes) {\n      if(this.axes[m].type != 'keyframe') continue;\n      if(!this.axes[m].kf) this.axes[m].kf = [];\n      this.axes[m].prevKeyframe = null;\n      this.axes[m].nextKeyframe = null;\n      this.axes[m].selected = false;\n      this.axes[m].atStartOrEnd = false;\n      this.axes[m].canMove = true;\n      let tolorance = 0;\n      if(this.axes[m].motor && this.axes[m].motor.unitSteps) tolorance = this.axes[m].motor.unitSteps / 100;\n      for(let i = 0; i < this.axes[m].kf.length; i++) {\n        if(Math.round((this.axes[m].kf[i].seconds / this.program.durationSeconds) * 100) == Math.round((this.posSeconds / this.program.durationSeconds) * 100)) {\n          this.axes[m].selected = true;          \n          this.posSeconds = this.axes[m].kf[i].seconds;\n          this.updateLengthStrings(this.xSlide, 1);\n          let posDiff = Math.abs(Math.round(this.axes[m].motor ? this.axes[m].motor.pos : this.axes[m].pos) - Math.round(this.axes[m].kf[i].position));\n          if(posDiff <= tolorance) {\n            this.axes[m].atPos = true;\n            this.axes[m].canMove = false;\n          } else {\n            this.axes[m].atPos = false;\n          }\n          if(this.posSeconds == this.program.durationSeconds || this.posSeconds == 0) this.axes[m].atStartOrEnd = true;\n        } else {\n          let interpolatedPosition = this.interpolate(this.axes[m].interpolation, this.axes[m].kf, this.posSeconds);\n          let posDiff = Math.abs(Math.round(this.axes[m].motor ? this.axes[m].motor.pos : this.axes[m].pos) - Math.round(interpolatedPosition));\n          if(posDiff <= tolorance) {\n            this.axes[m].canMove = false;\n          }\n          if(Math.round(this.axes[m].kf[i].seconds) < this.posSeconds && (this.axes[m].prevKeyframe === null || this.axes[m].kf[i].seconds > this.axes[m].prevKeyframe)) this.axes[m].prevKeyframe = this.axes[m].kf[i].seconds;\n          if(Math.round(this.axes[m].kf[i].seconds) > this.posSeconds && (this.axes[m].nextKeyframe === null || this.axes[m].kf[i].seconds < this.axes[m].nextKeyframe)) this.axes[m].nextKeyframe = this.axes[m].kf[i].seconds;\n        }\n      }\n    }\n    if(this.chart) {\n      this.chart.data = this.intervalometer.getChartData(this.posSeconds, true);\n      this.chart.update();\n    }\n  }\n\n  updateX(x) {\n    let newSlidePos = Math.round((x / this.program.durationSeconds) * 100);\n    console.log(\"jumping to \", x, \"seconds = \", newSlidePos);\n    this.updateLengthStrings(newSlidePos, (this.xSlide == newSlidePos) ? 1 : 2);\n    this.xSlide = newSlidePos;\n    this.posSeconds = x;\n    this.refreshChart();\n  }\n\n  moveToCurrent(axisId) {\n    let currentPos = this.axes[axisId].motor ? this.axes[axisId].motor.pos : this.axes[axisId].pos;\n    let targetPos = null;\n    for(let i = 0; i < this.axes[axisId].kf.length; i++) {\n      if(Math.round(this.axes[axisId].kf[i].seconds) == this.posSeconds) {\n        targetPos = this.axes[axisId].kf[i].position;\n        break;\n      }\n    }\n    if(targetPos === null) {\n      targetPos = this.interpolate(this.axes[axisId].interpolation, this.axes[axisId].kf, this.posSeconds);\n    }\n    console.log(\"moving\", axisId, \"from\", currentPos, \"to\", targetPos);\n    let steps = targetPos - currentPos;\n    if(axisId == 'focus') {\n      if(!this.axes[axisId].pos) this.axes[axisId].pos = 0;\n      this.axes[axisId].pos += steps;\n      this.camera.focus(Math.sign(steps), Math.abs(steps), true, (err, position) => {\n        this.axes[axisId].pos = position;\n        console.log(axisId + \" position \" + position);\n        this.refreshChart();\n      });\n    } else if(this.axes[axisId].motor) {\n      this.motion.move(axisId, steps, true, (err, position) => {\n        console.log(axisId + \" position \" + position);\n        console.log(\"this.motion.axis\", this.motion.axis);\n        this.refreshChart();\n      });\n    }\n  }\n  \n  moveAxis(axisId, speed) {\n    if(axisId == 'focus') {\n      let steps = speed;\n      if(!this.axes[axisId].pos) this.axes[axisId].pos = 0;\n      this.axes[axisId].pos += steps;\n      this.camera.focus(Math.sign(steps), Math.abs(steps), true, (err, position) => {\n        this.axes[axisId].pos = position;\n        console.log(axisId + \" position \" + position);\n        this.refreshChart();\n      });\n    } else if(this.axes[axisId].motor) {\n      speed /= 10;\n      if(speed < -1) speed = -1;\n      if(speed > 1) speed = 1;\n      console.log(\"moving\", axisId, \"at speed\", speed);\n      this.motion.moveConstant(axisId, speed, (err, position) => {\n        console.log(axisId + \" position \" + position);\n        console.log(\"this.motion.axis\", this.motion.axis);\n        this.refreshChart();\n      });\n    }\n  }\n\n  setHomePos() {\n    let moved = false;\n    for(let axisId in this.axes) {\n      if(this.axes[axisId].kf && this.axes[axisId].kf.length > 0 && this.axes[axisId].type == 'keyframe' && axisId != 'focus') { // focus position doesn't get reset\n        let homePos = this.axes[axisId].kf[0].position;\n        if(homePos != 0) {\n          for (let i = 0; i < this.axes[axisId].kf.length; i++) {\n            this.axes[axisId].kf[i].position -= homePos;\n          }\n          moved = true;\n          let curPos = this.axes[axisId].motor ? this.axes[axisId].motor.pos : this.axes[axisId].pos;\n          let newPos = curPos - homePos;\n          if(this.axes[axisId].motor) {\n            this.motion.setAxisPosition(axisId, newPos);\n            console.log(\"updating\", axisId, \"position to\", newPos);\n            this.motion.axis[this.motion.getAxisIndex(axisId)].pos = newPos;\n          } else {\n            this.axes[axisId].pos = newPos;\n          }\n        }\n      }\n    }\n  }\n\n  addKeyframe(axisId) {\n    this.axes[axisId].kf.push({\n      seconds: this.posSeconds,\n      position: (this.axes[axisId].motor ? this.axes[axisId].motor.pos : this.axes[axisId].pos) || 0\n    })\n    this.setHomePos();\n    this.refreshChart();\n  }\n\n  removeKeyframe(axisId) {\n    for(let i = 0; i < this.axes[axisId].kf.length; i++) {\n      if(Math.round(this.axes[axisId].kf[i].seconds) == this.posSeconds) {\n        this.axes[axisId].kf.splice(i, 1);\n      }\n    }\n    this.refreshChart();\n  }\n\n  updateKeyframe(axisId) {\n    console.log(\"updateKeyframe\", axisId);\n    for(let i = 0; i < this.axes[axisId].kf.length; i++) {\n      if(Math.round(this.axes[axisId].kf[i].seconds) == this.posSeconds) {\n        this.axes[axisId].kf[i].position = (this.axes[axisId].motor ? this.axes[axisId].motor.pos : this.axes[axisId].pos) || 0;\n        console.log(\"updateKeyframe -- found\", axisId);\n        this.setHomePos();\n        break;\n      }\n    }\n    this.refreshChart();\n  }\n\n  setup(axis) {\n    let modal = this.modalCtrl.create(MotionModalContentPage, {axisId: axis.id});\n    modal.present();\n  }\n\n  ionViewDidLoad() {\n\n      this.chart = new Chart(this.chartCanvas.nativeElement, {\n\n          type: 'line',\n          data: this.intervalometer.getChartData(this.posSeconds, true),\n          options: {\n            animation: false,\n            legend: {\n              display: false,\n            },\n            layout: {\n              padding: {\n                top: 10,\n                bottom: 10\n              }\n            },\n            scales: {\n              yAxes: [{\n                display: false,\n                ticks: {\n                  beginAtZero:true,\n                }\n              }],\n              xAxes: [{\n                type: 'time',\n                distribution: 'linear',\n                time: {\n                    round: 'second',\n                    displayFormats: {\n                        second: 'H:mm:ss',\n                        minute: 'H:mm',\n                        hour: 'H:mm',\n                        day: 'H:mm'\n                    }\n                }\n              }]\n            }\n          }\n\n      });\n  }\n\n  dismiss() {\n    if(this.camera.lv) this.camera.liveview();\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/intervalometer/intervalometer.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 123;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 123\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 165;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 165\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { ModalController, AlertController } from 'ionic-angular';\n\nimport { ViewProvider } from '../../providers/view/view';\nimport { MotionModalContentPage } from '../../app/app.component';\n\n\n@Component({\n  selector: 'page-camera',\n  templateUrl: 'camera.html'\n})\nexport class CameraPage {\n  public camera:any = {};\n  public motion:any = {};\n  public intervalometer:any = {};\n  public viewMode = 'camera';\n\n\n\n  constructor(public navCtrl: NavController, private alertCtrl: AlertController, private viewApi: ViewProvider, public modalCtrl: ModalController) {\n  \tthis.camera = this.viewApi.camera;\n  \tthis.motion = this.viewApi.motion;\n  \tthis.intervalometer = this.viewApi.intervalometer;\n  \tthis.motion.get();\n  }\n\n  setupMotion(axisId) {\n    let modal = this.modalCtrl.create(MotionModalContentPage, {axisId: axisId});\n    modal.present();\n  }\n\n  zeroMotion(axisId) {\n    this.motion.setAxisPosition(axisId, 0)\n  }\n\n  doSelect(list, model, title, set) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(title || \"select an option\");\n\n    for(let i = 0; i < list.length; i++) {\n    \tlet item = list[i];\n\t    alert.addInput({\n\t      type: 'radio',\n\t      label: item.label || item.title || item,\n\t      value: item,\n\t      checked: ((item.value || item.title || item)  == (model.value || model.title || model))\n\t    });\n    }\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Ok',\n      handler: (data: any) => {\n        console.log('Radio data:', data);\n        for(let key in model) {\n        \tmodel[key] = data[key];\n        }\n        if(set) {\n        \tconsole.log(\"setting\", set, \"to\", data.value);\n\t\t    this.camera.set(set, data.value);\n        }\n      }\n    });\n\n    alert.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/camera/camera.ts","import { Component } from '@angular/core';\nimport { ModalController, NavParams, ViewController, NavController, AlertController, App } from 'ionic-angular';\nimport { ViewProvider } from '../../providers/view/view';\nimport { IntervalometerPage } from '../intervalometer/intervalometer';\n\n@Component({\n  selector: 'page-clips',\n  templateUrl: 'clips.html'\n})\nexport class ClipsPage {\n  selectedItem: any;\n  timelapse: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private viewApi: ViewProvider, public modalCtrl: ModalController, public alertCtrl: AlertController) {\n    viewApi.timelapse.getClips();\n    this.timelapse = viewApi.timelapse;\n  }\n\n  open(index) {\n    console.log(\"index\", index);\n    let modal = this.modalCtrl.create(ClipsModalContentPage, {clipIndex: index});\n    modal.present();\n  }\n  showConfirmDelete(clip) {\n    let confirm = this.alertCtrl.create({\n      title: 'Delete ' + clip.name + '?',\n      message: 'This will remove preview thumbnails and data from the VIEW, but not delete any RAW image files',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: () => {\n            console.log('Delete canceled');\n          }\n        },\n        {\n          text: 'DELETE',\n          handler: () => {\n            console.log('Deleting ' + clip.index);\n            this.viewApi.timelapse.deleteClip(clip.index);\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n}\n\n\n@Component({\n  selector: 'page-clips',\n  templateUrl: 'modal.html'\n})\nexport class ClipsModalContentPage {\n  clip:any;\n  image:any;\n  frames: any;\n  public intervalometer:any = {\n    program: {},\n    status: {}\n  };\n  private intervalHandle: any;\n\n  constructor(\n    public params: NavParams,\n    public viewCtrl: ViewController,\n    private viewApi: ViewProvider,\n    public alertCtrl: AlertController,\n    public appCtrl: App\n  ) {\n    console.log(\"clipIndex\", this.params.get('clipIndex'));\n    this.clip = viewApi.timelapse.clips[this.params.get('clipIndex')];\n    this.intervalometer = this.viewApi.intervalometer;\n    this.image = this.clip.image;\n    this.frames = this.viewApi.timelapse.frames;\n    this.clip.frameIndex = 0;\n    if(!this.clip.info) this.viewApi.timelapse.getClipInfo(this.clip.name);\n    if(!this.viewApi.timelapse.frames[this.clip.index] && !this.clip.loadingFrames) this.viewApi.timelapse.getClipFrames(this.clip.index);\n  }\n\n  startFrame(clip) {\n    if(this.viewApi.timelapse.frames[clip.index]) {\n      if(clip.playing) this.togglePlay(clip);\n      clip.frameIndex = 0;\n      //this.image = this.viewApi.timelapse.frames[this.clip.index][clip.frameIndex];\n    }\n  }\n\n  endFrame(clip) {\n    if(this.viewApi.timelapse.frames[clip.index]) {\n      if(clip.playing) this.togglePlay(clip);\n      clip.frameIndex = this.viewApi.timelapse.frames[this.clip.index].length - 1;\n      //this.image = this.viewApi.timelapse.frames[this.clip.index][clip.frameIndex];\n    }\n  }\n\n  previousFrame(clip) {\n    if(this.viewApi.timelapse.frames[clip.index]) {\n      if(clip.playing) this.togglePlay(clip);\n      if(clip.frameIndex > 0) {\n        clip.frameIndex--;\n        //this.image = this.viewApi.timelapse.frames[this.clip.index][clip.frameIndex];\n      }\n    }\n  }\n\n  nextFrame(clip) {\n    if(this.viewApi.timelapse.frames[clip.index]) {\n      if(clip.playing) this.togglePlay(clip);\n      if(clip.frameIndex < this.viewApi.timelapse.frames[this.clip.index].length - 1) {\n        clip.frameIndex++;\n        //this.image = this.viewApi.timelapse.frames[this.clip.index][clip.frameIndex];\n      }\n    }\n  }\n\n  updateFrame(clip, event) {\n    if(this.viewApi.timelapse.frames[clip.index]) {\n      //if(clip.playing) this.togglePlay(clip);\n      if(clip.frameIndex >= 0 && clip.frameIndex < this.viewApi.timelapse.frames[this.clip.index].length) {\n        this.image = this.viewApi.timelapse.frames[this.clip.index][clip.frameIndex];\n      }\n    }\n  }\n\n  togglePlay(clip) {\n    if(this.viewApi.timelapse.frames[clip.index]) {\n      if(clip.playing) {\n        clearInterval(this.intervalHandle);\n        clip.playing = false;\n      } else {\n        clip.playing = true;\n        if(clip.frameIndex >= this.viewApi.timelapse.frames[this.clip.index].length -1) clip.frameIndex = 0;\n        this.intervalHandle = setInterval(() => {\n          //this.image = this.viewApi.timelapse.frames[this.clip.index][clip.frameIndex];\n          if(clip.frameIndex >= this.viewApi.timelapse.frames[this.clip.index].length - 1) return this.togglePlay(clip);\n          clip.frameIndex++;\n        }, 1000/30);\n      }\n    }\n  }\n\n  logReport(clip) {\n    let reportPrompt = this.alertCtrl.create({\n      title: 'Send report for ' + clip.name,\n        buttons: [\n        {\n          text: 'Cancel',\n          handler: () => {\n            console.log('Report canceled');\n          }\n        },\n        {\n          text: 'SEND',\n          handler: (data:any) => {\n            console.log('Sending report for ' + clip.index);\n            this.viewApi.timelapse.sendReport(clip.name, (title, message) => {\n              let res = this.alertCtrl.create({\n                title: title,\n                message: message,\n                buttons: [\n                  {\n                    text: 'OK',\n                  }\n                ]\n              });\n              res.present();\n            });\n          }\n        }\n      ]\n    });\n    reportPrompt.present();\n  }\n\n  showConfirmLoad(clip) {\n    let confirm = this.alertCtrl.create({\n      title: 'Load ' + clip.name + '?',\n      message: 'This will load the settings from this time-lapse into a new time-lapse setup, replacing any existing settings.',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: () => {\n            console.log('Load canceled');\n          }\n        },\n        {\n          text: 'LOAD',\n          handler: () => {\n            console.log('Loading ' + clip.index);\n            this.viewApi.intervalometer.saveProgram(clip.info.program);\n            this.viewCtrl.dismiss();\n            this.appCtrl.getRootNav().push(IntervalometerPage);\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n  showConfirmDelete(clip) {\n    let confirm = this.alertCtrl.create({\n      title: 'Delete ' + clip.name + '?',\n      message: 'This will remove preview thumbnails and data from the VIEW, but not delete any RAW image files',\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: () => {\n            console.log('Delete canceled');\n          }\n        },\n        {\n          text: 'DELETE',\n          handler: () => {\n            console.log('Deleting ' + clip.index);\n            this.viewApi.timelapse.deleteClip(clip.index);\n            this.viewCtrl.dismiss();\n          }\n        }\n      ]\n    });\n    confirm.present();\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/clips/clips.ts","import { Component } from '@angular/core';\nimport { ModalController } from 'ionic-angular';\nimport { ViewProvider } from '../../providers/view/view';\nimport { PairModalContentPage, MotionModalContentPage } from '../../app/app.component';\n\n@Component({\n  selector: 'page-settings',\n  templateUrl: 'settings.html'\n})\nexport class SettingsPage {\n\n  constructor(public viewApi: ViewProvider, public modalCtrl: ModalController) {\n  }\n\n  pairNew() {\n    console.log(\"opening pairing modal...\");\n    let modal = this.modalCtrl.create(PairModalContentPage, {});\n    modal.present();\n  }\n\n  setupMotion() {\n    console.log(\"opening motion modal...\");\n    let modal = this.modalCtrl.create(MotionModalContentPage, {});\n    modal.present();\n  }\n\n  logout() {\n    this.viewApi.logout();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/settings/settings.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule, Injectable, Injector } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { HttpClientModule } from '@angular/common/http';\nimport { IonicStorageModule } from '@ionic/storage';\n\nimport { ViewApp, LoginModalContentPage, PairModalContentPage, MotionModalContentPage } from './app.component';\nimport { CameraPage } from '../pages/camera/camera';\nimport { IntervalometerPage, KeyframeModalContentPage, UpdateModalContentPage, RampingModalContentPage } from '../pages/intervalometer/intervalometer';\nimport { ClipsPage, ClipsModalContentPage } from '../pages/clips/clips';\nimport { SettingsPage } from '../pages/settings/settings';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { Pro } from '@ionic/pro';\n\n//import {TimeAgoPipe} from 'time-ago-pipe';\nimport { TimeAgoPipeModule } from \"time-ago-pipe/index\";\n\nimport { ViewProvider } from '../providers/view/view';\n\nconst IonicPro = Pro.init('5d0a65db', {\n  appVersion: \"0.0.1\"\n});\n\n@Injectable()\nexport class MyErrorHandler implements ErrorHandler {\n  ionicErrorHandler: IonicErrorHandler;\n\n  constructor(injector: Injector) {\n    try {\n      this.ionicErrorHandler = injector.get(IonicErrorHandler);\n    } catch(e) {\n      // Unable to get the IonicErrorHandler provider, ensure \n      // IonicErrorHandler has been added to the providers list below\n    }\n  }\n\n  handleError(err: any): void {\n    IonicPro.monitoring.handleNewError(err);\n    // Remove this if you want to disable Ionic's auto exception handling\n    // in development mode.\n    this.ionicErrorHandler && this.ionicErrorHandler.handleError(err);\n  }\n}\n\n@NgModule({\n  declarations: [\n    ViewApp,\n    CameraPage,\n    IntervalometerPage,\n    ClipsPage,\n    SettingsPage,\n    ClipsModalContentPage,\n    LoginModalContentPage,\n    PairModalContentPage,\n    MotionModalContentPage,\n    KeyframeModalContentPage,\n    UpdateModalContentPage,\n    RampingModalContentPage\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    IonicModule.forRoot(ViewApp),\n    IonicStorageModule.forRoot(),\n    TimeAgoPipeModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    ViewApp,\n    CameraPage,\n    IntervalometerPage,\n    ClipsPage,\n    SettingsPage,\n    ClipsModalContentPage,\n    LoginModalContentPage,\n    PairModalContentPage,\n    MotionModalContentPage,\n    KeyframeModalContentPage,\n    UpdateModalContentPage,\n    RampingModalContentPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    ViewProvider,\n    HttpClientModule,\n    IonicErrorHandler,\n    [{ provide: ErrorHandler, useClass: MyErrorHandler }]\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Events } from 'ionic-angular';\n\nimport { QueueingSubject } from 'queueing-subject'\nimport { Observable } from 'rxjs/Observable'\nimport websocketConnect from 'rxjs-websockets'\nimport { Subscription } from 'rxjs/Subscription';\nimport 'rxjs/add/operator/share'\nimport 'rxjs/add/operator/timeout';\nimport moment from 'moment';\n\nimport { Storage } from '@ionic/storage';\n\n @Injectable()\nexport class ViewProvider {\n  private sessionKey: string = \"\";\n  public accountEmail: string = \"\";\n  private socketSubscription: Subscription;\n  public status: {fetchingClips: boolean} = {fetchingClips: false};\n  public connected: boolean = false;\n  public charging: boolean = false;\n  public battery: number = 0;\n  public loggedIn = false;\n\n  attempts: number = 1;\n  remoteUrl: string = 'https://app.view.tl';\n  localUrl: string = 'http://10.0.0.1';\n  localNetwork: boolean = false;\n  url: string = this.remoteUrl;\n\n  private inputStream: QueueingSubject<string>\n  private statusTimer: any;\n  public messages: Observable<string>\n  private timelapseFragments: any = {};\n\n  private focusTimer:any = null;\n  private joystickTimers:any = {};\n  private joystickRepeatTimers:any = {};\n\n  private pingIntervalHandle: any = null;\n\n  public colors: {first: any, second: any} = {\n\t  first: [\n\t    'rgba(255, 99, 132, 0.8)',\n\t    'rgba(54, 162, 235, 0.8)',\n\t    'rgba(255, 206, 86, 0.8)',\n\t    'rgba(75, 192, 192, 0.8)',\n\t    'rgba(153, 102, 255, 0.8)',\n\t    'rgba(255, 159, 64, 0.8)'\n\t  ],\n\t  second: [\n\t    'rgba(255, 99, 132, 0.3)',\n\t    'rgba(54, 162, 235, 0.3)',\n\t    'rgba(255, 206, 86, 0.3)',\n\t    'rgba(75, 192, 192, 0.3)',\n\t    'rgba(153, 102, 255, 0.3)',\n\t    'rgba(255, 159, 64, 0.3)'\n\t  ]\n  }\n\n  public camera: {status: string, settings:any, battery: string, shutter: object, shutterAvailable: any, iso: object, isoAvailable: any, aperture: object, apertureAvailable: any, connected: boolean, lv: boolean, delay: boolean, image: any, lastImages: any, set: any, setEv: any, setEvUp: any, setEvDown: any, capture: any, captureTest: any, captureDelay: any, liveview: any, supports: any, histogram: any, focus: any, focusMoving: boolean, focusPos: number} = {\n  \tset: (key, val) => {\n  \t  this.send(\"set\", {key: key, val: val}, null);\n  \t},\n    setEv: (ev) => {\n      this.send(\"setEv\", {ev: ev}, null);\n    },\n    setEvUp: () => {\n      this.send(\"setEvUp\", null, null);\n    },\n    setEvDown: () => {\n      this.send(\"setEvDown\", null, null);\n    },\n  \tcapture: () => {\n  \t  this.send(\"capture\", null, null);\n  \t},\n    captureTest: () => {\n      this.send(\"capture-test\", null, null);\n    },\n  \tfocus: (dir, repeat, noUpdate, callback) => {\n        if (!repeat) repeat = 1;\n        if(!noUpdate) {\n            if (dir > 0) this.camera.focusPos += parseInt(repeat);\n            if (dir < 0) this.camera.focusPos -= parseInt(repeat);\n            //if($scope.currentKf) $scope.currentKf.focusEdited = true;\n            //if($scope.currentKf) $scope.currentKf.imageCurrent = false;\n        }\n        if(this.focusTimer) clearTimeout(this.focusTimer);\n        this.focusTimer = setTimeout(() => {\n\t        this.camera.focusMoving = false;\n        }, 10000);\n        this.camera.focusMoving = true;\n        this.send('focus', {\n            key: 'manual',\n            val: dir,\n            repeat: repeat\n        }, (err, res) => {\n        \tthis.camera.focusMoving = false;\n          if(res && res.position != null) {\n            if(parseInt(res.position) != NaN) this.camera.focusPos = parseInt(res.position);\n          }\n          callback && callback(err, this.camera.focusPos);\n        });\n  \t},\n  \tcaptureDelay: () => {\n  \t  this.camera.status = \"waiting on timer...\";\n  \t  this.camera.delay = true;\n  \t  setTimeout(() => {\n\t  \t  this.camera.delay = false;\n\t  \t  this.send(\"capture\", null, null);\n  \t  }, 2000);\n  \t},\n  \tliveview: () => {\n  \t  if(this.camera.lv) {\n  \t  \t  console.log(\"stopping liveview...\");\n\t  \t  this.camera.lv = false;\n\t  \t  this.send(\"previewStop\", null, null);\n  \t  } else {\n  \t  \t  console.log(\"starting liveview...\");\n\t  \t  this.send('preview', null, null);\n\t  \t  //this.send(\"previewStream\", null, null);\n\t  \t  this.camera.lv = true;\n  \t  }\n  \t},\n  \tsettings: {},\n  \tsupports: {focus: false, liveview: false},\n  \thistogram: [],\n  \timage: {},\n  \tshutter: {},\n  \tshutterAvailable: [],\n  \tiso: {},\n  \tisoAvailable: [],\n  \taperture: {},\n  \tapertureAvailable: [],\n  \tconnected: false,\n  \tlastImages: [],\n  \tlv: false,\n  \tdelay: false,\n  \tstatus: \"camera not connected\",\n  \tfocusMoving: false,\n  \tfocusPos: 0,\n    battery: \"\"\n  };\n\n  public timelapse: {clips:any[], frames:any, getClips: any, getClipInfo: any, deleteClip: any, getClipFrames: any, getCurrentFrames: any, sendReport: any } = {\n  \tclips: [],\n    frames: {\n    \tcurrent: []\n    },\n    getClips: () => {\n    \tif(!this.status.fetchingClips) {\n    \t\tthis.status.fetchingClips = true;\n\t    \tthis.send('timelapse-clips', null, null);\n    \t}\n    },\n    getClipInfo: (name:string) => {\n    \tthis.send('timelapse-clip-info', {name: name}, null);\n    },\n    sendReport: (name:string, callback) => {\n      this.send('clip-log-report', {name: name}, function(err, data) {\n        let title = err ? 'Error Sending':'Report Submitted';\n        let message = err || data.message;\n        callback && callback(title, message);\n      });\n    },\n    deleteClip: (index:number) => {\n    \tthis.send('delete-clip', {index: index}, null);\n    \tfor(let i = 0; i < this.timelapse.clips.length; i++) {\n    \t\tif(this.timelapse.clips[i].index == index) {\n    \t\t\tthis.timelapse.clips.splice(i, 1);\n    \t\t\tbreak;\n    \t\t}\n    \t}\n    },\n    getClipFrames: (index:number) => {\n    \tthis.send('timelapse-images', {index: index}, null);\n    \tfor(let i = 0; i < this.timelapse.clips.length; i++) {\n    \t\tif(this.timelapse.clips[i].index == index) {\n    \t\t\tthis.timelapse.clips[i].loadingFrames = true;\n    \t\t\tthis.timelapse.clips[i].loadingFramesPercent = 0;\n    \t\t\tbreak;\n    \t\t}\n    \t}\n    },\n    getCurrentFrames: (callback) => {\n    \tthis.send('current-images', {start: this.timelapse.frames.current.length}, null);\n  \t\tthis.intervalometer.preview.loadingFrames = true;\n  \t\tthis.intervalometer.preview.loadingFramesPercent = 0;\n      this.intervalometer.preview.callback = callback;\n    }\n  };\n\n  public intervalometer: {program: any, preview: any, status: any, getProgram: any, getStatus: any, saveProgram:any, start: any, stop: any, moveFocus: any, moveTracking: any, updateProgram: any, reconfigureProgram: any, dynamicChange: any, getChartData: any} = {\n  \tprogram: {loaded: false},\n  \tpreview: {\n      frameIndex: 0\n    },\n  \tstatus: {\n  \t\trunning: false,\n      dynamicChange: {}\n  \t},\n  \tgetProgram: () => {\n    \tthis.send('get', {key: 'program'}, null);\n  \t},\n  \tsaveProgram: (program, callback) => {\n    \tthis.send('save-program', {program: program}, callback);\n  \t},\n    reconfigureProgram: (program, callback) => {\n      this.send('reconfigureProgram', {program: program}, callback);\n    },\n  \tgetStatus: () => {\n    \tthis.send('get', {key: 'status'}, null);\n  \t},\n  \tstart: (program) => {\n  \t\tthis.timelapseFragments.current = {};\n  \t\tvar m = moment();\n    \tthis.send('run', {program: program, date: m.valueOf() + m.utcOffset() * 60 * 1000}, null);\n  \t},\n  \tstop: () => {\n    \tthis.send('stop', null, null);\n  \t},\n  \tmoveFocus: (steps) => {\n    \tthis.send('moveFocus', {steps: steps}, null);\n  \t},\n    moveTracking: (axis, degrees) => {\n      this.send('moveTracking', {axis:axis, degrees:degrees}, null);\n    },\n  \tupdateProgram: (updates) => {\n    \tthis.send('updateProgram', {updates: updates}, null);\n  \t},\n    dynamicChange: (parameter, newValue, frames) => {\n      this.send('dynamicChange', {parameter: parameter, newValue:newValue, frames:frames}, null);\n    },\n    getChartData: (posSeconds: number, includePos: boolean) => {\n      let now = moment().startOf('day');\n  \n  \t  if(!this.intervalometer.program) {\n        return {\n          datasets: [],\n          labels: []\n        }\n  \t  }\n\t  \n\t    if(!this.intervalometer.program.durationSeconds) this.intervalometer.program.durationSeconds = 1800;\n      if(this.intervalometer.program.intervalMode == 'fixed' && this.intervalometer.program.frames > 0 && this.intervalometer.program.frames != Infinity) {\n        this.intervalometer.program.durationSeconds = this.intervalometer.program.interval * this.intervalometer.program.frames;\n      }\n\n  \t  if(!this.intervalometer.program.axes) this.intervalometer.program.axes = {};\n  \n      for(let m in this.intervalometer.program.axes) { // check axes for availablity and add start/end keyframes if needed\n        if(!this.intervalometer.program.axes.hasOwnProperty(m)) continue;\n        if(this.intervalometer.program.axes[m].type != \"keyframe\") continue;\n        if(!this.intervalometer.program.axes[m].kf) this.intervalometer.program.axes[m].kf = [];\n    \n        if(m == \"focus\" && this.camera.focusPos != null) this.intervalometer.program.axes[m].pos = this.camera.focusPos;\n\n\n        let min = null;\n        let max = null;\n        let currentPos = ((this.intervalometer.program.axes[m].motor?this.intervalometer.program.axes[m].motor.pos:this.intervalometer.program.axes[m].pos)||0);\n        let maxPos = currentPos;\n\n        for(let i = 0; i < this.intervalometer.program.axes[m].kf.length; i++) {\n          let point = this.intervalometer.program.axes[m].kf[i];\n          if(point.seconds > this.intervalometer.program.durationSeconds) continue;\n          if(min === null || point.seconds < min) min = point.seconds;\n          if(max === null || point.seconds > max) {\n            max = point.seconds;\n            maxPos = point.position;\n          }      \n        }\n        if(min > 0) { // add start keyframe\n          this.intervalometer.program.axes[m].kf.push({seconds: 0, position: currentPos});\n        }\n        if(max < this.intervalometer.program.durationSeconds) { // add end keyframe\n          this.intervalometer.program.axes[m].kf.push({seconds: this.intervalometer.program.durationSeconds, position: maxPos});\n        }\n        this.intervalometer.program.axes[m].kf = this.intervalometer.program.axes[m].kf.filter((item) => { // remove extra keyframes beyond duration\n          return item.seconds <= this.intervalometer.program.durationSeconds;\n        });\n      }\n\n      let axisGap = -1.5;\n  \n      let datasets = [];\n      let x = moment().startOf('day').add(posSeconds, 'seconds'); \n      let index = 0;\n      for(let m in this.intervalometer.program.axes) {  // iterate axes\n      \tlet axis = this.intervalometer.program.axes[m];\n      \tif(axis.type == 'keyframe') {\n          console.log(\"this.intervalometer.program.axes[\" + m + \"].\", this.intervalometer.program.axes[m]);\n          let currentPos = ((axis.motor?axis.motor.pos:axis.pos)||0);\n          let minPos = axis.kf.reduce((min, a) => {if(a.position < min) return a.position; else return min;}, currentPos);\n          let maxPos = axis.kf.reduce((max, a) => {if(a.position > max) return a.position; else return max;}, currentPos);\n          let spanPos = (maxPos - minPos);\n          if(spanPos < 1) spanPos = 1;\n          if(includePos) {\n            let point = (minPos == maxPos) ? 0 : (currentPos - minPos) / spanPos;\n            if(axis.motor && axis.motor.name == 'Tilt') point = 1 - point;\n  \t        datasets.push({ // add current positions to chart\n  \t          label: 'current' + m,\n  \t          fill: false,\n  \t          pointStyle: 'cross',\n  \t          radius: 6,\n  \t          data: [\n  \t            {x: x, y: point + index * axisGap}\n  \t          ],\n  \t          borderColor: this.colors.first[axis.colorIndex],\n  \t          backgroundColor: this.colors.first[axis.colorIndex]\n  \t        });\n            console.log(\"current\", m, point, \"max\", maxPos, \"current\", currentPos);\n          }\n          \n          let mData = axis.kf.sort((a, b) => {\n            if(a.seconds > b.seconds) return 1;\n            if(a.seconds < b.seconds) return -1;\n            return 0;\n          }).map((item) => {\n            let point = (minPos == maxPos) ? 0 : (item.position - minPos) / spanPos;\n            if(axis.motor && axis.motor.name == 'Tilt') point = 1 - point;\n            return {\n              x: moment(now).add((item.seconds||0), 'seconds'),\n              y: point + index * axisGap\n            };\n          });\n          datasets.push({  // add data to chart\n            label: m,\n            fill: false,\n            cubicInterpolationMode: 'monotone',\n            lineTension: this.intervalometer.program.axes[m].interpolation == 'linear' ? 0 : 1,\n            data: mData,\n            backgroundColor: this.colors.first[this.intervalometer.program.axes[m].colorIndex],\n            borderColor: this.colors.second[this.intervalometer.program.axes[m].colorIndex]\n          });\n          console.log(\"keyframe\", m, mData);\n\t        index++;\n      \t}\n      }\n  \n      let chartData = {\n          datasets: datasets,\n          labels: []\n      }\n      console.log('chartData', chartData);\n      return chartData;\n    }\n  }\n\n  public motion: {available: boolean, moving: boolean, slideAvailable: any, panAvailable: any, tiltAvailable: any, panTiltAvailable: any, axis: any, move: any, moveConstant: any, setupAxis: any, getAxisIndex: any, setAxisPosition: any, checkAxisFunctionsAvailable: any, get: any, openMotionSetup: any, calibrate: any, cancelCalibration: any, setBacklash: any} = {\n  \tavailable: false,\n  \tmoving: false,\n  \tslideAvailable: false,\n  \tpanAvailable: false,\n  \ttiltAvailable: false,\n  \tpanTiltAvailable: false,\n  \taxis: [],\n  \tget: () => {\n    \tthis.send('get', {key: 'motion'}, null);\n  \t},\n  \tmove: (axisId, steps, noReverse, callback) => {\n        //for(var k in joystickRepeatTimers) {\n        //    if(joystickRepeatTimers[k]) $timeout.cancel(joystickRepeatTimers[k]);\n        //}\n        console.log(\"moving \", axisId);\n        //if($scope.currentKf) $scope.currentKf.motionEdited = true;\n        //if($scope.currentKf) $scope.currentKf.imageCurrent = false;\n        let index = this.motion.getAxisIndex(axisId);\n        if(index === null) return false;\n        let parts = axisId.split('-');\n        if (steps && parts.length == 2) {\n            let driver = parts[0];\n            let motor = parts[1];\n            if(this.motion.axis[index].reverse && !noReverse) steps = 0 - steps;\n            console.log(\"moving motor\" + axisId, steps);\n            this.motion.axis[index].moving = true;\n            this.motion.moving = true;\n            //if($scope.currentKf || $scope.axis[index].pos != 0) \n            this.motion.axis[index].pos += steps; // will be overwritten by motor driver response\n            this.send('motion', {\n                key: 'move',\n                val: steps,\n                driver: driver,\n                motor: motor\n            }, function(err, res) {\n            \tif(res.complete && res.position != null || err) {\n            \t\t//console.log(axisId, \"move complete, running callback\", callback);\n            \t\tcallback && callback(err, res.position)\n            \t}\n            });\n        }\n  \t},\n  \tmoveConstant: (axisId, speed, callback) => {\n  \t\tconsole.log(\"moveConstant\", axisId, speed);//, callback);\n        let index = this.motion.getAxisIndex(axisId);\n        if(index === null) return false;\n        if(this.joystickRepeatTimers[axisId]) clearTimeout(this.joystickRepeatTimers[axisId]);\n        if(speed) {\n          this.motion.axis[index].moving = true;\n          this.motion.moving = true;\n        \tthis.joystickRepeatTimers[axisId] = setTimeout(() => {\n\t            this.motion.moveConstant(axisId, speed, callback);\n\t        }, 600);\n        }\n        if(speed && this.joystickTimers[axisId]) return false; // rate limit per axis\n\n        //if($scope.currentKf) $scope.currentKf.motionEdited = true;\n        //if($scope.currentKf) $scope.currentKf.imageCurrent = false;\n        let f = (a, s, r, cb) => { \n        \treturn () => {\n\t            //console.log(\"moving \", axisId);\n\t            let parts = a.split('-');\n\t            if (parts.length == 2) {\n\t                let driver = parts[0];\n\t                let motor = parts[1];\n\t                //console.log(\"joystick motor\" + a, s);\n\t                this.send('motion', {\n\t                    key: 'joystick',\n\t                    val: s * 100 * (r ? -1 : 1),\n\t                    driver: driver,\n\t                    motor: motor\n\t                }, function(err, res) {\n                    console.log(\"err\", err, \"res\", res, \"speed\", s);\n\t                \tif(res.complete && res.position || err) {\n\t                \t\t//console.log(axisId, \"move complete, running callback\", cb);\n                      //this.motion.axis[this.motion.getAxisIndex(axisId)].moving = (s == 0);\n\t                \t\tcb && cb(err, res.position)\n\t                \t}\n\t                });\n\t            }\n\t        }; \n    \t}\n\n        let sendJoystickCommand = f(axisId, speed, this.motion.axis[index].reverse, callback);\n\n        if(this.joystickTimers[axisId]) clearTimeout(this.joystickTimers[axisId]);\n        this.joystickTimers[axisId] = setTimeout(() => {\n            this.joystickTimers[axisId] = null;\n        }, 200);\n        sendJoystickCommand();\n        if(speed == 0) sendJoystickCommand();\n  \t},\n  \tsetAxisPosition: (axisId, position, callback) => { // updates motor position without moving motor\n        let index = this.motion.getAxisIndex(axisId);\n        if(index === null) return false;\n        let parts = axisId.split('-');\n        if (position != null && parts.length == 2) {\n            let driver = parts[0];\n            let motor = parts[1];\n            this.motion.axis[index].pos = position;\n            this.send('motion', {\n                key: 'setPosition',\n                position: position,\n                driver: driver,\n                motor: motor\n            }, function(err, res) {\n            \tif(res.complete && res.position || err) {\n            \t\tcallback && callback(err, res.position)\n            \t}\n            });\n        }\n  \t},\n    calibrate: (axisId, callback) => { // updates motor position without moving motor\n        let index = this.motion.getAxisIndex(axisId);\n        if(index === null) return false;\n        let parts = axisId.split('-');\n        if (parts.length == 2) {\n            let driver = parts[0];\n            let motor = parts[1];\n            this.send('motion', {\n                key: 'calibrate',\n                driver: driver,\n                motor: motor\n            }, function(err, res) {\n              callback && callback(err, res.backlash)\n            });\n        }\n    },\n    cancelCalibration: (axisId) => {\n        let index = this.motion.getAxisIndex(axisId);\n        if(index === null) return false;\n        let parts = axisId.split('-');\n        if (parts.length == 2) {\n            let driver = parts[0];\n            let motor = parts[1];\n            this.send('motion', {\n                key: 'cancelCalibration',\n                driver: driver,\n                motor: motor\n            }, (err) => {\n\n            });\n        }\n    },\n    setBacklash: (axisId, backlashSteps, callback) => {\n        let index = this.motion.getAxisIndex(axisId);\n        if(index === null) return false;\n        let parts = axisId.split('-');\n        if (parts.length == 2) {\n            let driver = parts[0];\n            let motor = parts[1];\n            console.log(\"setting backlash to\", backlashSteps, \"for\", axisId);\n            this.send('motion', {\n                key: 'setBacklash',\n                driver: driver,\n                motor: motor,\n                backlash: backlashSteps\n            }, function(err, res) {\n              console.log(\"complete -- set backlash to\", backlashSteps, \"for\", axisId);\n              callback && callback(err, res.backlash)\n            });\n        }\n    },\n\t  setupAxis: (axisInfo) => {\n\t    let axisId = axisInfo.driver + '-' + axisInfo.motor;\n\t    console.log(\"setting up axis: \", axisId);\n\t    //var axis = localStorageService.get('motion-' + axisId);\n      let setupAxisObject = (err, axis) => {\n          if(!axis) {\n              axis = {\n                  name: '',\n                  unit: 's',\n                  unitSteps: 1,\n                  unitMove: 500,\n                  reverse: false,\n                  pos: 0,\n                  moving: false,\n                  setup: false\n              }\n          }\n          axis.id = axisId;\n          axis.motor = axisInfo.motor;\n          axis.driver = axisInfo.driver;\n          axis.connected = axisInfo.connected;\n          axis.pos = axisInfo.position;\n          axis.orientation = axisInfo.orientation;\n          axis.backlash = axisInfo.backlash || 0;\n          axis.backlash = Math.round(axis.backlash * 100) / 100;\n          if(axisInfo.orientation == 'pan') axis.name = 'Pan';\n          if(axisInfo.orientation == 'tilt') axis.name = 'Tilt';\n\n          let axisIndex = this.motion.getAxisIndex(axisId);\n          if(axisIndex === null) {\n              this.motion.axis.push(axis);\n          } else {\n              //axis.pos = $scope.axis[axisIndex].pos;\n              axis.moving = false;//$scope.axis[axisIndex].moving;\n              this.motion.axis[axisIndex] = axis;\n          }\n          let moving = false;\n          for(let i = 0; i < this.motion.axis.length; i++) {\n              if(this.motion.axis[i].moving) {\n                  moving = true;\n                  break;\n              }\n          }\n          this.motion.moving = moving;\n          this.motion.checkAxisFunctionsAvailable();\n\n          this.events.publish('motion.updated');\n\n          console.log(\"$scope.axis\", this.motion.axis);\n      }\n      if(axisInfo.connected) {\n        this.db.get('motion-' + axisId, (err, axis) => {\n            console.log(\"VIEW db err:\", err);\n            console.log(\"VIEW db axis:\", axis);\n            setupAxisObject(err, axis);\n        });\n      } else {\n        setupAxisObject(null, null);\n      }\n\t},\n\tgetAxisIndex: (axisId) => {\n        for(let i = 0; i < this.motion.axis.length; i++) {\n            if(this.motion.axis[i].id == axisId) return i; \n        }\n        return null;\n  \t},\n  \tcheckAxisFunctionsAvailable: () => {\n        let tilt = false;\n        let pan = false;\n        let slide = false;\n        this.motion.axis = this.motion.axis.filter((x) => { return x.connected; });\n        for(let i = 0; i < this.motion.axis.length; i++) {\n            if(this.motion.axis[i].name == 'Pan' && this.motion.axis[i].connected) pan = this.motion.axis[i];\n            if(this.motion.axis[i].name == 'Tilt' && this.motion.axis[i].connected) tilt = this.motion.axis[i];\n            if(this.motion.axis[i].name == 'Slide' && this.motion.axis[i].connected) slide = this.motion.axis[i];\n        }\n        if(slide) {\n            this.motion.slideAvailable = slide;\n        }\n        if(pan) {\n            this.motion.panAvailable = pan;\n        }\n        if(tilt) {\n            this.motion.tiltAvailable = tilt;\n        }\n        if(pan && tilt) {\n            this.motion.panTiltAvailable = {pan: pan, tilt: tilt};\n        } else {\n            this.motion.panTiltAvailable = false;\n        }\n  \t},\n  \topenMotionSetup: (axisId) => {\n\t  \tthis.events.publish('openMotionSetup', axisId);\n  \t},\n  }\n\n  public db: {get: any, set: any} = {\n  \tget: (key: string, callback: any) => {\n        this.send('dbGet', {\n            key: key\n        }, function(err, res){\n            callback && callback(err, res.val);\n            console.log(\"dbGet test -> \", res.key, res.val ? res.val.id : res.val);\n            console.log(\"dbGet result\", res);\n        });\n  \t},\n  \tset: (key: string, val: any, callback: any) => {\n        this.send('dbSet', {\n            key: key,\n            val: val\n        }, function(err){\n            callback && callback(err);\n            console.log(\"dbSet err\", err);\n        });\n  \t}\n  }\n\n  private callbackList: any = [];\n  private offlineQueue: any = [];\n\n  send(type: string, message: any, callback: any):void {\n    // If the websocket is not connected then the QueueingSubject will ensure\n    // that messages are queued and delivered when the websocket reconnects.\n    // A regular Subject can be used to discard messages sent when the websocket\n    // is disconnected.\n    if(!message) message = {};\n\n    if(!this.messages) {\n    \tthis.offlineQueue.push({\n    \t\ttype: type,\n    \t\tmessage: message,\n    \t\tcallback: callback\n    \t});\n    \treturn;\n    }\n\n    message.type = type;\n    if (callback) {\n        let maxId = 0;\n        if (this.callbackList.length > 0) { // manage callback buffer and generate next id\n            let removeItems = [];\n            for (let i = 0; i < this.callbackList.length; i++) {\n                let cbItem = this.callbackList[i];\n                if (cbItem.id > maxId) maxId = cbItem.id;\n                if (moment(cbItem.time).isBefore(moment().subtract(15, 'minutes'))) {\n                    removeItems.push(i);\n                }\n            }\n            for (let i = 0; i < removeItems.length; i++) {\n                this.callbackList.splice(removeItems[i] - i, 1);\n            }\n        }\n        let cbId = maxId + 1;\n        this.callbackList.push({\n            id: cbId,\n            time: new Date(),\n            callback: callback\n        });\n        message._cbId = cbId;\n    }\n    this.inputStream.next(JSON.stringify(message));\n  }\n\n  constructor(public http: HttpClient, public events: Events, public storage: Storage) {\n    console.log('Hello ViewProvider Provider');\n\tthis.storage.get('accountEmail').then((email) => {\n\t\tthis.accountEmail = email || \"\";\n\t});\n\tthis.storage.get('sessionKey').then((key) => {\n\t\tthis.sessionKey = key;\n\t\tthis.storage.get('localNetwork').then((local) => {\n\t\t\tthis.localNetwork = !!local;\n\t\t    this.connect();\n\t\t});\n\t});\n  }\n\n  public noDevice: boolean = false;\n\n  httpOptions() {\n  \tlet headers = { \n\t  'Access-Control-Allow-Origin':'*'\n\t}\n\tif(this.sessionKey) {\n\t\theaders['x-view-session'] = this.sessionKey;\n\t}\n\treturn { headers: new HttpHeaders(headers) };\n  }\n\n  resetCamera() {\n\t  this.camera.shutter = {title: '---', value: null};\n\t  this.camera.aperture = {title: '---', value: null};\n\t  this.camera.iso = {title: '---', value: null};\n\n\t  this.camera.shutterAvailable = [];\n\t  this.camera.apertureAvailable = [];\n\t  this.camera.isoAvailable = [];\n\n\t  this.camera.image = {};\n\n\t  this.camera.lv = false;\n\t  this.camera.delay = false;\n\n    this.camera.battery = \"\";\n\n\t  this.camera.status = \"camera not connected\";\n  }\n\n  connectWs(address: string) {\n    if (this.messages)\n      return\n\n    // Using share() causes a single websocket to be created when the first\n    // observer subscribes. This socket is shared with subsequent observers\n    // and closed when the observer count falls to zero.\n    this.messages = websocketConnect(\n      address,\n      this.inputStream = new QueueingSubject<string>()\n    ).messages.share()\n  }\n\n  getSocketUrl() {\n  \tlet self = this;\n  \tif(this.localNetwork) this.url = this.localUrl; else this.url = this.remoteUrl;\n    console.log(\"connecting using URL:\", this.url);\n    return new Promise((resolve, reject) => {\n      self.http.get(this.url + '/socket/address', this.httpOptions()).timeout(5000)\n        .subscribe(res => {\n          resolve(res);\n        }, (err) => {\n          reject(err);\n        });\n    });\n  }\n\n  addDevice(code: string) {\n    return new Promise((resolve, reject) => {\n      this.http.post(this.url + '/api/device/new', {code: code}, this.httpOptions())\n        .subscribe((res:any) => {\n          //if(res.action == 'device_added') {\n\t          resolve(res);\n          //} else {\n\t      //    reject(\"Failed to add VIEW device. Please try again.\");\n          //}\n        }, (err) => {\n          reject(err);\n        });\n    });\n  }\n\n  resetPasswordRequest(email: string) {\n    return new Promise((resolve, reject) => {\n      this.http.post(this.url + '/api/password_reset_request', {email: email}, this.httpOptions())\n        .subscribe((res:any) => {\n          resolve(res);\n        }, (err) => {\n          reject(err);\n        });\n    });\n  }\n\n  resetPassword(email: string, code: string, password: string) {\n    return new Promise((resolve, reject) => {\n      this.http.post(this.url + '/api/password_reset', {email: email, code:code, password:password}, this.httpOptions())\n        .subscribe((res:any) => {\n          if(res.action == 'login' && res.session) {\n            this.sessionKey = res.session;\n            this.accountEmail = email;\n            this.storage.set('accountEmail', this.accountEmail);\n            this.storage.set('sessionKey', this.sessionKey);\n            this.connect();\n          }\n          resolve(res);\n        }, (err) => {\n          reject(err);\n        });\n    });\n  }\n\n  login(email: string, password: string) {\n    return new Promise((resolve, reject) => {\n      this.http.post(this.url + '/api/login', {email: email, password:password}, this.httpOptions())\n        .subscribe((res:any) => {\n          if(res.action == 'login' && res.session) {\n          \tthis.sessionKey = res.session;\n          \tthis.accountEmail = email;\n          \tthis.storage.set('accountEmail', this.accountEmail);\n          \tthis.storage.set('sessionKey', this.sessionKey);\n          \tthis.connect();\n          }\n          resolve(res);\n        }, (err) => {\n          reject(err);\n        });\n    });\n  }\n\n  logout() {\n    return new Promise((resolve, reject) => {\n    \tthis.loggedIn = false;\n    \tthis.noDevice = false;\n  \t\tthis.sessionKey = \"\";\n  \t\tthis.accountEmail = \"\";\n  \t\tthis.storage.set('accountEmail', this.accountEmail);\n  \t\tthis.storage.set('sessionKey', this.sessionKey);\n      this.socketSubscription.unsubscribe();\n  \t\tresolve();\n  \t\tthis.connect();\n    });\n  }\n\n  register(email: string, name: string, password: string) {\n    return new Promise((resolve, reject) => {\n      this.http.post(this.url + '/api/register', {email: email, name: name, password:password}, this.httpOptions())\n        .subscribe((res:any) => {\n          if(res.action == 'login' && res.session) {\n            this.sessionKey = res.session;\n            this.accountEmail = email;\n            this.storage.set('accountEmail', this.accountEmail);\n            this.storage.set('sessionKey', this.sessionKey);\n            this.connect();\n          }\n          resolve(res);\n        }, (err) => {\n          reject(err);\n        });\n    });\n  }\n\n  checkEmail(email: string) {\n  \tlet self = this;\n    return new Promise((resolve, reject) => {\n      self.http.post(this.url + '/api/email', {email: email}, this.httpOptions())\n        .subscribe(res => {\n          resolve(res);\n        }, (err) => {\n          reject(err);\n        });\n    });\n  }\n\n  connect() {\n  \tthis.connected = false;\n  \tthis.noDevice = false;\n  \tthis.resetCamera();\n  \tthis.getSocketUrl().then((res:any) => {\n      console.log(\"socket res:\", res);\n      this.attempts = 1;\n      if(res && res.address) {\n      \tthis.storage.set('localNetwork', this.localNetwork);\n      \tthis.connectWs(res.address);\n\t      this.socketSubscription = this.messages.subscribe((messageStr: string) => {\n\t        let message:any = JSON.parse(messageStr);\n\t        console.log('received message from server: ', message)\n\t        if(!this.connected) {\n\t      \t  if(this.localNetwork) this.loggedIn = false; else this.loggedIn = true;\n  \t  \t\t  this.events.publish('connected', 'successfully connected!');\n\t\t  \t    this.connected = true;\n\t\t  \t    for(let i = 0; i < this.offlineQueue.length; i++) {\n\t\t  \t\t    this.send(this.offlineQueue[i].type, this.offlineQueue[i].message, this.offlineQueue[i].callback);\n\t\t  \t    }\n\t\t  \t    this.offlineQueue = [];\n\t        }\n  \t      let callback = (err, res) => {\n              if (message._cbId) {\n                  for (let i = 0; i < this.callbackList.length; i++) {\n                      if (this.callbackList[i].id == message._cbId) {\n                          //console.log(\"cb found:\", msg._cbId);\n                          let cb = this.callbackList[i].callback;\n                          this.callbackList.splice(i, 1);\n                          return cb.call(this, err, res);\n                      }\n                  }\n                  console.log(\"failed to find callback id\", message._cbId, \"in\", this.callbackList);\n              }\n  \t      }\n  \t      if(message.type == 'nodevice') {\n  \t      \tif(!this.noDevice) {\n  \t        \tthis.noDevice = true;\n          \t\tthis.events.publish('nodevice', true);\n  \t      \t}\n  \t      } else if(message.type != 'pong') {\n  \t      \tif(this.noDevice) {\n  \t\t      \tthis.noDevice = false;\n          \t\tthis.events.publish('nodevice', false);\n          \t}\n  \t      }\n\t        switch(message.type) {\n            case 'motion':\n              if(message.available && message.motors) {\n                this.motion.available = true;\n                for(let i = 0; i < message.motors.length; i++) {\n                  this.motion.setupAxis(message.motors[i]);\n                }\n              } else {\n                this.motion.available = false;\n                for(let i = 0; i < this.motion.axis.length; i++) {\n                  this.motion.axis[i].connected = false;\n                }\n  \t        \t\tthis.events.publish('motion.updated');\n              }\n              break;\n            case 'move':\n              let index = this.motion.getAxisIndex(message.driver + '-' + message.motor);\n              if (message.complete && message.driver && this.motion.axis[index]) {\n                this.motion.axis[index].moving = (message.position == null);\n                let moving = false;\n                for(let i = 0; i < this.motion.axis.length; i++) {\n                  if(this.motion.axis[i].moving) {\n                    moving = true;\n                    break;\n                  }\n                }\n                this.motion.moving = moving;\n                if(message.position != null) this.motion.axis[index].pos = message.position;\n                if(this.motion.axis[index].callbacks && this.motion.axis[index].callbacks.length > 0) {\n                  for(let i = 0; i < this.motion.axis[index].callbacks.length; i++) {\n                    this.motion.axis[index].callbacks[i](message.position);\n                  }\n                  this.motion.axis[index].callbacks = null;\n                }\n                callback(null, message);          \n              }\n              break;\n  \t      \tcase 'camera':\n  \t      \t\tthis.camera.connected = message.connected;\n  \t      \t\tif(message.connected) {\n  \t      \t\t\tthis.camera.status = message.model + \" connected\";\n  \t      \t\t\tthis.camera.supports = message.supports;\n  \t      \t\t\tthis.events.publish('camera.updated');\n  \t\t\t\t      this.send(\"get\", {key: 'settings'}, null);\n  \t      \t\t} else {\n  \t      \t\t\tthis.resetCamera();\n  \t      \t\t\tthis.events.publish('camera.updated');\n  \t      \t\t}\n  \t      \tcase 'settings':\n  \t\t      \tif(message.settings && message.settings.lists && message.settings.lists.shutter) {\n  \t\t      \t\tthis.camera.shutterAvailable = message.settings.lists.shutter.map(item => { return {title: item.name, value: item.cameraName, ev: item.ev }});\n  \t\t      \t}\n  \t\t      \tif(message.settings && message.settings.lists && message.settings.lists.aperture) {\n  \t\t      \t\tthis.camera.apertureAvailable = message.settings.lists.aperture.map(item => { return {title: item.name, value: item.cameraName, ev: item.ev }});\n  \t\t      \t}\n  \t\t      \tif(message.settings && message.settings.lists && message.settings.lists.iso) {\n  \t\t      \t\tthis.camera.isoAvailable = message.settings.lists.iso.map(item => { return {title: item.name, value: item.cameraName, ev: item.ev }});\n  \t\t      \t}\n  \t\t      \tif(message.settings && message.settings.shutter) {\n  \t\t      \t\tlet search = this.camera.shutterAvailable.filter(item => { return item.title == message.settings.shutter });\n  \t\t      \t\tif(search.length > 0) this.camera.shutter = Object.assign({}, search[0]);\n  \t\t      \t} \n  \t\t      \tif(message.settings && message.settings.aperture) {\n  \t\t      \t\tlet search = this.camera.apertureAvailable.filter(item => { return item.title == message.settings.aperture });\n  \t\t      \t\tif(search.length > 0) this.camera.aperture = Object.assign({}, search[0]);\n  \t\t      \t} \n  \t\t      \tif(message.settings && message.settings.iso) {\n  \t\t      \t\tlet search = this.camera.isoAvailable.filter(item => { return item.title == message.settings.iso });\n  \t\t      \t\tif(search.length > 0) this.camera.iso = Object.assign({}, search[0]);\n  \t\t      \t}\n              if(message.settings && message.settings.focusPos != null) {\n                this.camera.focusPos = parseInt(message.settings.focusPos);\n                if(isNaN(this.camera.focusPos)) this.camera.focusPos = 0;\n              }\n              if(message.settings && message.settings.battery != null && message.settings.battery != false) {\n                this.camera.battery = message.settings.battery;\n                if(!isNaN(parseInt(this.camera.battery))) {\n                  console.log(\"using number for camera battery:\", this.camera.battery, parseInt(this.camera.battery));\n                  this.camera.battery = Math.round(parseFloat(this.camera.battery)).toString() + \"%\";\n                }\n              } else {\n                this.camera.battery = \"\";\n              }\n  \t\t      \tthis.camera.settings = message.settings;\n  \t\t      \tbreak;\n  \t\t      case 'histogram':\n  \t\t     \t  this.camera.histogram = message.histogram;\n  \t\t      \tbreak;\n  \t\t      case 'thumbnail':\n    \t\t     \tmessage.jpeg = \"data:image/jpeg;base64,\" + message.jpeg;\n    \t\t     \tthis.camera.image = message;\n    \t\t     \tif(message.imageType == 'thumbnail') {\n    \t\t     \t\tmessage.shutter = Object.assign({}, this.camera.shutter);\n    \t\t     \t\tmessage.iso = Object.assign({}, this.camera.iso);\n    \t\t     \t\tmessage.aperture = Object.assign({}, this.camera.aperture);\n    \t\t     \t\tmessage.time = new Date();\n    \t\t     \t\tif(!this.camera.lastImages) this.camera.lastImages = [];\n    \t\t     \t\tthis.camera.lastImages.unshift(Object.assign({}, message));\n    \t\t     \t\tif(this.camera.lastImages.length > 5) this.camera.lastImages = this.camera.lastImages.slice(0, 5);\n    \t\t     \t\tif(this.intervalometer.status.running && !this.intervalometer.preview.playing) this.intervalometer.preview.image = this.camera.image.jpeg;\n    \t\t     \t} else if(message.imageType == 'preview') {\n    \t\t     \t\tif(this.camera.lv) {\n    \t\t     \t\t\tconsole.log(\"fetching next lv frame\");\n    \t\t     \t\t\tthis.send('preview', null, null);\n    \t\t     \t\t}\n    \t\t     \t} else if(message.imageType == 'test') {\n                 this.intervalometer.preview.image = this.camera.image.jpeg;\n              }\n  \t\t      \tbreak;\n            case 'battery':\n              this.battery = message.percentage ? Math.round(parseFloat(message.percentage)) : 0;\n              this.charging = message.charging ? true : false;\n              break;\n            case 'status':\n              clearTimeout(this.statusTimer);\n              this.camera.status = message.status ? message.status : '';\n              this.statusTimer = setTimeout(()=>{\n                this.camera.status = \"\";\n              }, 30000);\n              break;\n            case 'timelapse-clips':\n              this.status.fetchingClips = false;\n              let clips = message.clips ? message.clips : [];\n              if(clips.length != this.timelapse.clips.length) {\n              \tthis.timelapse.clips = clips;\n                for(let i = 0; i < this.timelapse.clips.length; i++) {\n                  this.timelapse.clips[i].pos = 0;\n                  this.timelapse.clips[i].playing = false;\n                  this.timelapse.clips[i].max = -1;\n                  if(this.timelapse.frames[this.timelapse.clips[i].index]) this.timelapse.clips[i].max = this.timelapse.frames[this.timelapse.clips[i].index].length;\n                }\n              }\n              break;\t      \n            case 'timelapse-clip-info':\n              for(let i = 0; i < this.timelapse.clips.length; i++) {\n                if(this.timelapse.clips[i].name.toLowerCase() == message.info.name.toLowerCase()) {\n                \tmessage.info.date = new Date(message.info.date);\n                \tthis.timelapse.clips[i].info = message.info;\n                \tbreak;\n                }\n              }\n              break;\n            case 'timelapse-images':\n              if(message.error) {\n                //callback(message.error);\n              } else if(message.fragment != null) {\n                if(!this.timelapseFragments[message.index]) this.timelapseFragments[message.index] = {};\n                this.timelapseFragments[message.index][message.fragment] = message.images;\n                console.log(\"adding fragment of \" + this.timelapseFragments[message.index][message.fragment].length + \"\");\n                let complete = true;\n                let missing = 0;\n                for(let i = 0; i < message.fragments; i++) {\n                  if(!this.timelapseFragments[message.index][i]) {\n                    complete = false;\n                    missing++;\n                  }\n                }\n                if(complete) {\n                  if(message.index != 'current') this.timelapse.frames[message.index] = [];\n                  for(let i = 0; i < message.fragments; i++) {\n                      this.timelapse.frames[message.index] = this.timelapse.frames[message.index].concat(this.timelapseFragments[message.index][i]);\n                  }\n                  this.timelapseFragments[message.index] = null;\n                  console.log(\"received all image fragements, count = \" + this.timelapse.frames[message.index].length);\n                  if(message.index == 'current') {\n      \t\t    \t\t\tthis.intervalometer.preview.loadingFrames = false;\n    \t\t\t    \t\t\tthis.intervalometer.preview.loadingFramesPercent = 100;\n                    if(this.intervalometer.preview.callback) {\n                      this.intervalometer.preview.callback();\n                      this.intervalometer.preview.callback = null;\n                    }\n    \t\t\t\t\t    } else {\n    \t\t\t\t\t    \tfor(let i = 0; i < this.timelapse.clips.length; i++) {\n    \t\t\t\t\t    \t\tif(this.timelapse.clips[i].index == message.index) {\n    \t\t\t\t\t    \t\t\tthis.timelapse.clips[i].loadingFrames = false;\n    \t\t\t\t\t    \t\t\tthis.timelapse.clips[i].loadingFramesPercent = 100;\n                        if(this.intervalometer.preview.callback) {\n                          this.intervalometer.preview.callback();\n                          this.intervalometer.preview.callback = null;\n                        }\n    \t\t\t\t\t    \t\t\tbreak;\n    \t\t\t\t\t    \t\t}\n    \t\t\t\t\t    \t}\n    \t\t\t\t\t    }\n                } else {\n                \tlet percent = Math.round((message.fragments - missing) / message.fragments * 100);\n                  if(message.index == 'current') {\n    \t\t\t\t\t    \tthis.intervalometer.preview.loadingFramesPercent = percent;\n    \t\t\t\t\t    } else {\n    \t\t\t\t\t    \tfor(let i = 0; i < this.timelapse.clips.length; i++) {\n    \t\t\t\t\t    \t\tif(this.timelapse.clips[i].index == message.index) {\n    \t\t\t\t\t    \t\t\tthis.timelapse.clips[i].loadingFramesPercent = percent;\n    \t\t\t\t\t    \t\t\tbreak;\n    \t\t\t\t\t    \t\t}\n    \t\t\t\t\t    \t}\n    \t\t\t\t\t    }\n                }  \n              } else {\n                if(message.index == 'current') {\n                  this.timelapse.frames[message.index].concat(message.images);\n    \t\t    \t\t\tthis.intervalometer.preview.loadingFrames = false;\n                  this.intervalometer.preview.loadingFramesPercent = 100;\n                  if(this.intervalometer.preview.callback) {\n                    this.intervalometer.preview.callback();\n                    this.intervalometer.preview.callback = null;\n                  }\n                } else {\n                  this.timelapse.frames[message.index] = message.images;\n    \t\t\t\t    \tfor(let i = 0; i < this.timelapse.clips.length; i++) {\n    \t\t\t\t    \t\tif(this.timelapse.clips[i].index == message.index) {\n    \t\t\t\t    \t\t\tthis.timelapse.clips[i].loadingFrames = false;\n    \t\t\t\t    \t\t\tthis.timelapse.clips[i].loadingFramesPercent = 100;\n    \t\t\t\t    \t\t\tbreak;\n    \t\t\t\t    \t\t}\n    \t\t\t\t    \t}\n                }\n              }\n              break;\n\n            case 'timelapseProgram':\n            \tif(message.program) {\n            \t\tif(message.program.axes) {\n            \t\t\tfor(let m in message.program.axes) {\n            \t\t\t\tif(message.program.axes.hasOwnProperty(m)) {\n            \t\t\t\t\tlet axis = message.program.axes[m];\n            \t\t\t\t\tif(axis.kf) {\n\t\t\t\t            \t\tlet kf = [];\n\t\t\t            \t\t\tfor(let i in axis.kf) {\n\t\t\t            \t\t\t\tif(axis.kf.hasOwnProperty(i)) {\n\t\t\t            \t\t\t\t\tkf.push(axis.kf[i]);\n\t\t\t            \t\t\t\t}\n\t\t\t            \t\t\t}\n\t\t\t            \t\t\taxis.kf = kf;\n            \t\t\t\t\t}\n            \t\t\t\t}\n            \t\t\t}\n            \t\t}\n            \t\tthis.intervalometer.program = message.program;\n            \t\tthis.intervalometer.program.loaded = true;\n            \t\tthis.events.publish('intervalometer.program');\n            \t}\n            \tbreak;\n\n            case 'intervalometerStatus':\n            \tlet wasRunning = this.intervalometer.status.running;\n            \tif(message.status) this.intervalometer.status = message.status;\n            \tif(wasRunning && !this.intervalometer.status.running) this.events.publish('intervalometer.stopped');\n            \tbreak;\n\n            case 'error':\n              message.message = message.error;\n              this.events.publish('error', message);\n              break;\n            case 'captureError':\n            \tmessage.message = \"an error occurred during capture (\" + (message.msg || message.error) + \")\";\n              this.events.publish('error', message);\n              break;\n            case 'intervalometerError':\n  \t\t      \tthis.events.publish('error', message);\n            \tbreak;\n            default:\n                {\n                    if (message.error) {\n                        callback(message.error, message);\n                    } else {\n                        callback(null, message);\n                    }\n                }\n            }\n  \t    }, (error: string) => { // error\n    \t  \tif(this.connected) this.events.publish('disconnected', 'disconnected: trying to reconnect');\n  \t    \tthis.connected = false;\n  \t    \tconsole.log(\"ERROR (observable):\", error);\n  \t    \t//this.messages.unsubscribe();\n  \t    \tthis.messages = null;\n  \t\t    setTimeout(()=>{this.connect();}, 500);\n  \t    }, () => { // completed\n    \t  \tif(this.connected) this.events.publish('disconnected', 'disconnected: trying to reconnect');\n  \t    \tthis.connected = false;\n  \t    \tconsole.log(\"COMPLETE (observable)\");\n  \t    \t//this.messages.unsubscribe();\n  \t    \tthis.messages = null;\n  \t\t    setTimeout(()=>{this.connect();}, 3000);\n  \t    });\n        if(this.pingIntervalHandle) clearInterval(this.pingIntervalHandle);\n  \t    this.pingIntervalHandle = setInterval(() => {\n  \t\t    this.send(\"ping\", null, null);\n  \t    }, 5000);\n  \t    if(this.sessionKey) {\n          this.send(\"auth\", {session: this.sessionKey}, null);\n        }\n        this.send(\"get\", {key: 'camera'}, null);\n        this.send(\"get\", {key: 'battery'}, null);\n      } else if(res.action == 'login_required') {\n      \tconsole.log(\"login_required\");\n      \tthis.events.publish('login_required');\n      }\n    }, (err) => { // failed to access URL\n      if(this.attempts < 2) this.events.publish('disconnected', 'disconnected: no network connection');\n      this.connected = false;\n      this.localNetwork = !this.localNetwork;\n      console.log(\"socket err:\", err);\n      if(this.attempts < 30) this.attempts *= 2; else this.attempts = 30;\n      setTimeout(()=>{this.connect();}, 1000 * this.attempts);\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/view/view.ts","var map = {\n\t\"./af\": 213,\n\t\"./af.js\": 213,\n\t\"./ar\": 214,\n\t\"./ar-dz\": 215,\n\t\"./ar-dz.js\": 215,\n\t\"./ar-kw\": 216,\n\t\"./ar-kw.js\": 216,\n\t\"./ar-ly\": 217,\n\t\"./ar-ly.js\": 217,\n\t\"./ar-ma\": 218,\n\t\"./ar-ma.js\": 218,\n\t\"./ar-sa\": 219,\n\t\"./ar-sa.js\": 219,\n\t\"./ar-tn\": 220,\n\t\"./ar-tn.js\": 220,\n\t\"./ar.js\": 214,\n\t\"./az\": 221,\n\t\"./az.js\": 221,\n\t\"./be\": 222,\n\t\"./be.js\": 222,\n\t\"./bg\": 223,\n\t\"./bg.js\": 223,\n\t\"./bm\": 224,\n\t\"./bm.js\": 224,\n\t\"./bn\": 225,\n\t\"./bn.js\": 225,\n\t\"./bo\": 226,\n\t\"./bo.js\": 226,\n\t\"./br\": 227,\n\t\"./br.js\": 227,\n\t\"./bs\": 228,\n\t\"./bs.js\": 228,\n\t\"./ca\": 229,\n\t\"./ca.js\": 229,\n\t\"./cs\": 230,\n\t\"./cs.js\": 230,\n\t\"./cv\": 231,\n\t\"./cv.js\": 231,\n\t\"./cy\": 232,\n\t\"./cy.js\": 232,\n\t\"./da\": 233,\n\t\"./da.js\": 233,\n\t\"./de\": 234,\n\t\"./de-at\": 235,\n\t\"./de-at.js\": 235,\n\t\"./de-ch\": 236,\n\t\"./de-ch.js\": 236,\n\t\"./de.js\": 234,\n\t\"./dv\": 237,\n\t\"./dv.js\": 237,\n\t\"./el\": 238,\n\t\"./el.js\": 238,\n\t\"./en-au\": 239,\n\t\"./en-au.js\": 239,\n\t\"./en-ca\": 240,\n\t\"./en-ca.js\": 240,\n\t\"./en-gb\": 241,\n\t\"./en-gb.js\": 241,\n\t\"./en-ie\": 242,\n\t\"./en-ie.js\": 242,\n\t\"./en-nz\": 243,\n\t\"./en-nz.js\": 243,\n\t\"./eo\": 244,\n\t\"./eo.js\": 244,\n\t\"./es\": 245,\n\t\"./es-do\": 246,\n\t\"./es-do.js\": 246,\n\t\"./es-us\": 247,\n\t\"./es-us.js\": 247,\n\t\"./es.js\": 245,\n\t\"./et\": 248,\n\t\"./et.js\": 248,\n\t\"./eu\": 249,\n\t\"./eu.js\": 249,\n\t\"./fa\": 250,\n\t\"./fa.js\": 250,\n\t\"./fi\": 251,\n\t\"./fi.js\": 251,\n\t\"./fo\": 252,\n\t\"./fo.js\": 252,\n\t\"./fr\": 253,\n\t\"./fr-ca\": 254,\n\t\"./fr-ca.js\": 254,\n\t\"./fr-ch\": 255,\n\t\"./fr-ch.js\": 255,\n\t\"./fr.js\": 253,\n\t\"./fy\": 256,\n\t\"./fy.js\": 256,\n\t\"./gd\": 257,\n\t\"./gd.js\": 257,\n\t\"./gl\": 258,\n\t\"./gl.js\": 258,\n\t\"./gom-latn\": 259,\n\t\"./gom-latn.js\": 259,\n\t\"./gu\": 260,\n\t\"./gu.js\": 260,\n\t\"./he\": 261,\n\t\"./he.js\": 261,\n\t\"./hi\": 262,\n\t\"./hi.js\": 262,\n\t\"./hr\": 263,\n\t\"./hr.js\": 263,\n\t\"./hu\": 264,\n\t\"./hu.js\": 264,\n\t\"./hy-am\": 265,\n\t\"./hy-am.js\": 265,\n\t\"./id\": 266,\n\t\"./id.js\": 266,\n\t\"./is\": 267,\n\t\"./is.js\": 267,\n\t\"./it\": 268,\n\t\"./it.js\": 268,\n\t\"./ja\": 269,\n\t\"./ja.js\": 269,\n\t\"./jv\": 270,\n\t\"./jv.js\": 270,\n\t\"./ka\": 271,\n\t\"./ka.js\": 271,\n\t\"./kk\": 272,\n\t\"./kk.js\": 272,\n\t\"./km\": 273,\n\t\"./km.js\": 273,\n\t\"./kn\": 274,\n\t\"./kn.js\": 274,\n\t\"./ko\": 275,\n\t\"./ko.js\": 275,\n\t\"./ky\": 276,\n\t\"./ky.js\": 276,\n\t\"./lb\": 277,\n\t\"./lb.js\": 277,\n\t\"./lo\": 278,\n\t\"./lo.js\": 278,\n\t\"./lt\": 279,\n\t\"./lt.js\": 279,\n\t\"./lv\": 280,\n\t\"./lv.js\": 280,\n\t\"./me\": 281,\n\t\"./me.js\": 281,\n\t\"./mi\": 282,\n\t\"./mi.js\": 282,\n\t\"./mk\": 283,\n\t\"./mk.js\": 283,\n\t\"./ml\": 284,\n\t\"./ml.js\": 284,\n\t\"./mr\": 285,\n\t\"./mr.js\": 285,\n\t\"./ms\": 286,\n\t\"./ms-my\": 287,\n\t\"./ms-my.js\": 287,\n\t\"./ms.js\": 286,\n\t\"./mt\": 288,\n\t\"./mt.js\": 288,\n\t\"./my\": 289,\n\t\"./my.js\": 289,\n\t\"./nb\": 290,\n\t\"./nb.js\": 290,\n\t\"./ne\": 291,\n\t\"./ne.js\": 291,\n\t\"./nl\": 292,\n\t\"./nl-be\": 293,\n\t\"./nl-be.js\": 293,\n\t\"./nl.js\": 292,\n\t\"./nn\": 294,\n\t\"./nn.js\": 294,\n\t\"./pa-in\": 295,\n\t\"./pa-in.js\": 295,\n\t\"./pl\": 296,\n\t\"./pl.js\": 296,\n\t\"./pt\": 297,\n\t\"./pt-br\": 298,\n\t\"./pt-br.js\": 298,\n\t\"./pt.js\": 297,\n\t\"./ro\": 299,\n\t\"./ro.js\": 299,\n\t\"./ru\": 300,\n\t\"./ru.js\": 300,\n\t\"./sd\": 301,\n\t\"./sd.js\": 301,\n\t\"./se\": 302,\n\t\"./se.js\": 302,\n\t\"./si\": 303,\n\t\"./si.js\": 303,\n\t\"./sk\": 304,\n\t\"./sk.js\": 304,\n\t\"./sl\": 305,\n\t\"./sl.js\": 305,\n\t\"./sq\": 306,\n\t\"./sq.js\": 306,\n\t\"./sr\": 307,\n\t\"./sr-cyrl\": 308,\n\t\"./sr-cyrl.js\": 308,\n\t\"./sr.js\": 307,\n\t\"./ss\": 309,\n\t\"./ss.js\": 309,\n\t\"./sv\": 310,\n\t\"./sv.js\": 310,\n\t\"./sw\": 311,\n\t\"./sw.js\": 311,\n\t\"./ta\": 312,\n\t\"./ta.js\": 312,\n\t\"./te\": 313,\n\t\"./te.js\": 313,\n\t\"./tet\": 314,\n\t\"./tet.js\": 314,\n\t\"./th\": 315,\n\t\"./th.js\": 315,\n\t\"./tl-ph\": 316,\n\t\"./tl-ph.js\": 316,\n\t\"./tlh\": 317,\n\t\"./tlh.js\": 317,\n\t\"./tr\": 318,\n\t\"./tr.js\": 318,\n\t\"./tzl\": 319,\n\t\"./tzl.js\": 319,\n\t\"./tzm\": 320,\n\t\"./tzm-latn\": 321,\n\t\"./tzm-latn.js\": 321,\n\t\"./tzm.js\": 320,\n\t\"./uk\": 322,\n\t\"./uk.js\": 322,\n\t\"./ur\": 323,\n\t\"./ur.js\": 323,\n\t\"./uz\": 324,\n\t\"./uz-latn\": 325,\n\t\"./uz-latn.js\": 325,\n\t\"./uz.js\": 324,\n\t\"./vi\": 326,\n\t\"./vi.js\": 326,\n\t\"./x-pseudo\": 327,\n\t\"./x-pseudo.js\": 327,\n\t\"./yo\": 328,\n\t\"./yo.js\": 328,\n\t\"./zh-cn\": 329,\n\t\"./zh-cn.js\": 329,\n\t\"./zh-hk\": 330,\n\t\"./zh-hk.js\": 330,\n\t\"./zh-tw\": 331,\n\t\"./zh-tw.js\": 331\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 433;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/moment/locale ^\\.\\/.*$\n// module id = 433\n// module chunks = 0","import { Component, ViewChild } from '@angular/core';\nimport { Nav, NavParams, Platform, Events, ModalController, ViewController, AlertController } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { ToastController } from 'ionic-angular';\n\nimport { CameraPage } from '../pages/camera/camera';\nimport { IntervalometerPage } from '../pages/intervalometer/intervalometer';\nimport { ClipsPage } from '../pages/clips/clips';\nimport { SettingsPage } from '../pages/settings/settings';\n\nimport { ViewProvider } from '../providers/view/view';\n\nimport { Pro } from '@ionic/pro';\n\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class ViewApp {\n  @ViewChild(Nav) nav: Nav;\n\n  rootPage: any = CameraPage;\n\n  pages: Array<{title: string, component: any, icon: string}>;\n\n  constructor(public platform: Platform, public statusBar: StatusBar, public splashScreen: SplashScreen, public events: Events, private viewApi: ViewProvider, public modalCtrl: ModalController, public alertCtrl: AlertController, public toastCtrl: ToastController) {\n    this.initializeApp();\n\n    // used for an example of ngFor and navigation\n    this.pages = [\n      { title: 'Camera', component: CameraPage, icon: 'camera' },\n      { title: 'Intervalometer', component: IntervalometerPage, icon: 'timer' },\n      { title: 'Time-lapse Clips', component: ClipsPage, icon: 'film' },\n      { title: 'Settings', component: SettingsPage, icon: 'settings' }\n    ];\n\n    let alert: any = null;\n    let hasPerformedSync: boolean = false;\n    events.subscribe('error', (err) => {\n      let wait = 0;\n      if(alert) {\n        alert.dismiss();\n        alert = null;\n        wait = 500;\n      }\n      setTimeout(() => {\n        alert = this.alertCtrl.create({\n          title: 'ERROR',\n          subTitle: err.message || err.msg || 'unknown error',\n          buttons: ['Close']\n        });\n        alert.present();\n      }, wait);\n    });\n\n    let toast: any = null;\n    let newToast: any = null;\n    let autoDismissedNoDevice: boolean = true;\n    events.subscribe('login_required', () => {\n      console.log('login_required event captured');\n      let modal = this.modalCtrl.create(LoginModalContentPage, {});\n      if(toast) {\n        autoDismissedNoDevice = true;\n        console.log('Setting autoDismissedNoDevice = ',autoDismissedNoDevice);\n        toast.dismiss('system');\n        toast = null;\n      }\n      modal.present();\n    });\n\n    events.subscribe('disconnected', (msg) => {\n      let wait = 0;\n      if(toast) {\n        autoDismissedNoDevice = true;\n        console.log('Setting autoDismissedNoDevice = ',autoDismissedNoDevice);\n        toast.dismiss('system');\n        toast = null;\n        wait = 1000;\n      }\n      newToast = this.toastCtrl.create({\n        message: msg,\n        position: 'bottom',\n        cssClass: 'error-toast'\n      });\n      setTimeout(() => {\n        newToast.present();\n        toast = newToast;\n      }, wait);\n    });\n\n    events.subscribe('connected', (msg) => {\n      let wait = 0;\n      if(toast) {\n        autoDismissedNoDevice = true;\n        console.log('Setting autoDismissedNoDevice = ',autoDismissedNoDevice);\n        toast.dismiss('system');\n        toast = null;\n        wait = 1000;\n      }\n      newToast = this.toastCtrl.create({\n        message: msg,\n        position: 'bottom',\n        duration: 3000,\n        //showCloseButton: true,\n      });\n      setTimeout(() => {\n        newToast.present();\n        toast = newToast;\n      }, wait);\n\n      console.log(\"Connected! Logged in: \", this.viewApi.loggedIn);\n      if(!hasPerformedSync && this.viewApi.loggedIn) {\n        hasPerformedSync = true;\n        console.log(\"Checking for version update... (new)\");\n        this.runVersionUpdate();\n      }\n    });\n\n    events.subscribe('nodevice', (status) => {\n      let wait = 0;\n      if(toast) {\n        autoDismissedNoDevice = true;\n        console.log('Setting autoDismissedNoDevice = ',autoDismissedNoDevice);\n        toast.dismiss('system');\n        toast = null;\n        wait = 1000;\n      }\n      if(!status) return; // device added\n\n      newToast = this.toastCtrl.create({\n        message: \"No VIEW device connected.  Connect a paired device to wifi to access or pair a new device.\",\n        position: 'bottom',\n        showCloseButton: true,\n        closeButtonText: 'Add new VIEW'\n      });\n\n      setTimeout(() => {\n        newToast.onDidDismiss((_null, role) => {\n          console.log(\"modal dismissed, autoDismissedNoDevice:\", autoDismissedNoDevice, role);\n          if(this.viewApi.noDevice && this.viewApi.connected && this.viewApi.loggedIn && role == 'close') {\n            console.log('Adding VIEW device...');\n            let modal = this.modalCtrl.create(PairModalContentPage, {});\n            modal.present();\n          }\n        });\n        autoDismissedNoDevice = false;\n        console.log('Setting autoDismissedNoDevice = ',autoDismissedNoDevice);\n        newToast.present();\n        toast = newToast;\n      }, wait);\n    });\n\n  }\n\n  async runVersionUpdate() {\n    console.log(\"Checking for version update (async)...\");\n    try {\n      const currentVersion = await Pro.deploy.getCurrentVersion();\n      console.log(\"Current version: \", currentVersion);\n      const resp = await Pro.deploy.sync({updateMethod: 'background'});\n      if(!currentVersion || !resp) {\n        console.log(\"Error occurred during update:\", \"version data not available\");\n      } else {\n        if (currentVersion.versionId !== resp.versionId) {\n          console.log(\"Update check complete, new version will load on next boot\");\n          // We found an update, and are in process of redirecting you since you put auto!\n        } else {\n          console.log(\"Update check complete, no update available\");\n          // No update available\n        }\n      }\n    } catch (err) {\n      console.log(\"Error occurred during update:\", err);\n      // Pro.monitoring.exception(err);\n    }\n  }\n\n\n  initializeApp() {\n    this.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      Pro.deploy.configure({\n        'appId': '5d0a65db',\n        'channel': 'Production'\n      });\n\n      this.statusBar.styleBlackTranslucent();\n      this.splashScreen.hide();\n    });\n  }\n\n  openPage(page) {\n    // Reset the content nav to have just this page\n    // we wouldn't want the back button to show in this scenario\n    this.nav.setRoot(page.component);\n  }\n}\n\n@Component({\n  templateUrl: 'login.modal.html'\n})\nexport class LoginModalContentPage {\n\n  constructor(\n    public viewCtrl: ViewController,\n    private viewApi: ViewProvider,\n    private toastCtrl: ToastController,\n    private alertCtrl: AlertController\n  ) {\n\n  }\n\n  submit(mode, name, email, password, password1, password2) {\n    if(mode == 'register') {\n      this.register(name, email, password1, password2);\n      return false;\n    } else {\n      this.login(email, password);\n      return false;\n    }\n  }\n\n  register(name, email, password1, password2) {\n    let toast:any = this.toastCtrl.create({\n      message: \"Creating account for \" + email + \"...\",\n      position: 'bottom',\n    });\n    if(password1 && password1.length > 5) {\n      if(password1 == password2) {\n        toast.present();\n        this.viewApi.register(email, name, password1).then((res:any) => {\n          if(toast) {\n            console.log(\"dismissing toast...\");\n            toast.dismiss();\n          }\n          console.log(\"registration res\", res);\n          if(res.action == 'login') {\n            this.viewCtrl.dismiss();\n          } else if(res.action == 'login_failed') {\n            console.log(\"message:\", res.message);\n            toast = this.toastCtrl.create({\n              message: res.message,\n              position: 'bottom',\n              cssClass: 'error-toast',\n              duration: 5000,\n            });\n            toast.present();\n          }\n        }, ()=> {\n          if(toast) {\n            toast.dismiss();\n          }\n          toast = this.toastCtrl.create({\n            message: \"Error contacting server - please try again later\",\n            position: 'bottom',\n            cssClass: 'error-toast',\n            showCloseButton: true,\n          });\n          toast.present();\n        });  \n      } else {\n        toast = this.toastCtrl.create({\n          message: \"Passwords do not match\",\n          position: 'bottom',\n          cssClass: 'error-toast',\n          duration: 5000,\n          showCloseButton: true,\n        });\n        toast.present();\n      }\n    } else {\n      toast = this.toastCtrl.create({\n        message: \"Password must be at least 5 characters long\",\n        position: 'bottom',\n        cssClass: 'error-toast',\n        duration: 5000,\n        showCloseButton: true,\n      });        \n      toast.present();\n    }\n  }\n\n  login(email, password) {\n    let toast:any = this.toastCtrl.create({\n      message: \"Logging in as \" + email + \"...\",\n      position: 'bottom',\n    });\n    toast.present();\n    this.viewApi.login(email, password).then((res:any) => {\n      if(toast) {\n        console.log(\"dismissing toast...\");\n        toast.dismiss();\n      }\n      console.log(\"login res\", res);\n      if(res.action == 'login') {\n        this.viewCtrl.dismiss();\n      } else if(res.action == 'login_failed') {\n        console.log(\"message:\", res.message);\n        toast = this.toastCtrl.create({\n          message: res.message,\n          position: 'bottom',\n          cssClass: 'error-toast',\n          duration: 5000,\n        });\n        toast.present();\n      }\n    }, ()=> {\n      if(toast) {\n        toast.dismiss();\n      }\n      toast = this.toastCtrl.create({\n        message: \"Error contacting server - please try again later\",\n        position: 'bottom',\n        cssClass: 'error-toast',\n        showCloseButton: true,\n      });\n      toast.present();\n    });  \n  }\n\n  resetPasswordPrompt(email) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(\"Account Email\");\n\n    alert.addInput({\n      placeholder: 'email address',\n      value: email,\n      type: 'email',\n    });\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Ok',\n      handler: (data: any) => {\n        this.doPasswordReset(data[0]);\n      }\n    });\n    alert.present();\n  }\n\n  showResetDialog(email) {\n    let toast:any = null;\n    let alert = this.alertCtrl.create();\n    alert.setTitle(\"Reset password (code sent to email)\");\n\n    alert.addInput({\n      placeholder: 'code (from email)',\n      type: 'number',\n    });\n    alert.addInput({\n      placeholder: 'new password',\n      type: 'password',\n    });\n    alert.addInput({\n      placeholder: 'confirm password',\n      type: 'password',\n    });\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Ok',\n      handler: (data: any) => {\n        let code = data[0];\n        let password1 = data[1];\n        let password2 = data[2];\n        if(password1 != password2) {\n          toast = this.toastCtrl.create({\n            message: \"Error: passwords do not match\",\n            position: 'bottom',\n            cssClass: 'error-toast',\n            duration: 5000,\n          });\n          toast.present();\n          this.showResetDialog(email);\n        } else {\n          toast = this.toastCtrl.create({\n            message: \"Resetting password...\",\n            position: 'bottom',\n          });\n          this.viewApi.resetPassword(email, code, password1).then((res:any) => {\n            if(toast) {\n              toast.dismiss();\n            }\n            if(res.action == 'login') {\n              toast = this.toastCtrl.create({\n                message: \"Password reset, logged in!\",\n                duration: 5000,\n                showCloseButton: true,\n                position: 'bottom',\n              });\n              this.viewCtrl.dismiss();\n            } else if(res.action == 'register') {\n              console.log(\"message:\", res.message);\n              toast = this.toastCtrl.create({\n                message: res.message,\n                position: 'bottom',\n                cssClass: 'error-toast',\n                duration: 5000,\n              });\n              toast.present();\n            }\n          }, ()=> {\n            if(toast) {\n              toast.dismiss();\n            }\n            toast = this.toastCtrl.create({\n              message: \"Error contacting server - please try again later\",\n              position: 'bottom',\n              cssClass: 'error-toast',\n              showCloseButton: true,\n            });\n            toast.present();\n          });  \n        }\n      }\n    });\n    alert.present();\n  }\n\n  doPasswordReset(email) {\n    let toast:any = this.toastCtrl.create({\n      message: \"Checking account for \" + email + \"...\",\n      position: 'bottom',\n    });\n    toast.present();\n    this.viewApi.resetPasswordRequest(email).then((res:any) => {\n      if(toast) {\n        toast.dismiss();\n      }\n      console.log(\"login res\", res);\n      if(res.action == 'reset') {\n        this.showResetDialog(email);\n      } else if(res.action == 'register') {\n        console.log(\"message:\", res.message);\n        toast = this.toastCtrl.create({\n          message: res.message,\n          position: 'bottom',\n          cssClass: 'error-toast',\n          duration: 5000,\n        });\n        toast.present();\n      }\n    }, ()=> {\n      if(toast) {\n        toast.dismiss();\n      }\n      toast = this.toastCtrl.create({\n        message: \"Error contacting server - please try again later\",\n        position: 'bottom',\n        cssClass: 'error-toast',\n        showCloseButton: true,\n      });\n      toast.present();\n    });  \n  }\n}\n\n@Component({\n  templateUrl: 'pair.modal.html'\n})\nexport class PairModalContentPage {\n\n  toast:any = null;\n\n  constructor(\n    public viewCtrl: ViewController,\n    private viewApi: ViewProvider,\n    private toastCtrl: ToastController\n  ) {\n    console.log(\"PairModalContentPage initialized\")\n  }\n  \n  dismiss() {\n    if(this.toast) {\n      this.toast.dismiss();\n    }\n    this.viewApi.noDevice = false;\n    this.viewCtrl.dismiss();\n  }\n\n  pair(code) {\n    this.toast = this.toastCtrl.create({\n      message: \"Pairing device...\",\n      position: 'bottom',\n    });\n    this.toast.present();\n    this.viewApi.addDevice(code).then((res:any) => {\n      if(this.toast) {\n        this.toast.dismiss();\n      }\n      console.log(\"login res\", res);\n      if(res.action == 'device_added') {\n        this.viewCtrl.dismiss();\n      } else {\n        console.log(\"message:\", res.message);\n        this.toast = this.toastCtrl.create({\n          message: res.message,\n          position: 'bottom',\n          cssClass: 'error-toast',\n          duration: 10000,\n        });\n        this.toast.present();\n      }\n    }, ()=> {\n      if(this.toast) {\n        this.toast.dismiss();\n      }\n      this.toast = this.toastCtrl.create({\n        message: \"Error contacting server - please try again later\",\n        position: 'bottom',\n        cssClass: 'error-toast',\n        showCloseButton: true,\n      });\n      this.toast.present();\n    });  \n  }\n}\n\n@Component({\n  templateUrl: 'motion.modal.html'\n})\nexport class MotionModalContentPage {\n  axes: any = [];\n  motion: any = {};\n  toast:any = null;\n  axisId:any = null;\n  calibrating:boolean = false;\n\n  constructor(\n    public params: NavParams,\n    public viewCtrl: ViewController,\n    private viewApi: ViewProvider,\n    private alertCtrl: AlertController,\n    private events: Events\n  ) {\n    this.axisId = params.get('axisId');\n    if(this.axisId) {\n      this.axes = this.viewApi.motion.axis.filter(a => { return a.id == this.axisId});\n    } else {\n      this.motion = this.viewApi.motion;\n      this.motion.get();\n      this.events.subscribe('motion.updated', () => {\n        this.axes = this.viewApi.motion.axis || [];\n        this.motion = this.viewApi.motion;\n      })\n    }\n\n    console.log(\"MotionModalContentPage initialized\", this.axes);\n  }\n  \n  calibrate(axis) {\n    if(axis && axis.id) {\n      this.calibrating = true;\n      this.viewApi.motion.calibrate(axis.id, (err, backlash) => {\n        this.calibrating = false;\n        if(!err && backlash) axis.backlash = Math.round(backlash * 100) / 100;\n        if(err) {\n          let alert = this.alertCtrl.create({\n            title: 'Calibration failed',\n            subTitle: err,\n            buttons: ['Close']\n          });\n          alert.present();\n        }\n      });\n    }\n  }\n\n\n  doNumber(name, object, key, callback) {\n    let alert = this.alertCtrl.create();\n    alert.setTitle(name || \"enter value\");\n\n    alert.addInput({\n      type: 'number',\n      value: object[key]\n    });\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Ok',\n      handler: (data: any) => {\n        console.log('Number data:', data);\n        object[key] = data[0];\n        if(callback) callback.call(this, object, key);\n      }\n    });\n\n    alert.present();\n  }\n\n  saveBacklash(axis) {\n      this.viewApi.motion.setBacklash(axis.id, axis.backlash);\n  }\n\n  cancelCalibration(axis) {\n    if(axis && axis.id) {\n      this.viewApi.motion.cancelCalibration(axis.id);\n    }\n  }\n\n  dismiss() {\n    for(let i = 0; i < this.axes.length; i++) {\n      this.updateHardware(this.axes[i]);\n      this.updateType(this.axes[i]);\n      this.axes[i].setup = true;\n      if(this.axes[i].unit == 's') this.axes[i].unitSteps = 1;\n      this.viewApi.db.set('motion-' + this.axes[i].id, this.axes[i]);\n      console.log(\"saving motion setup:\", this.axes[i])\n      this.motion.axis = this.axes;\n    }\n\n    if(this.toast) {\n      this.toast.dismiss();\n    }\n    this.viewApi.noDevice = false;\n    this.viewCtrl.dismiss();\n  }\n\n  updateRatios(axis) {\n    var gearRatio = 1;\n    if(!axis.motorRatio) axis.motorRatio = '19:1';\n    if(axis.driver == 'NMX') {\n      if(axis.hardware == 'stager') {\n        if(axis.motorRatio == '5:1') {\n          gearRatio = 5;\n        } else if(axis.motorRatio == '27:1') {\n          gearRatio = 27;\n        } else {\n          gearRatio = 19 + 9/19;\n        }\n        gearRatio *= (3+3/11); // add Stage-R ratio;\n        //axis.unitSteps = 558.63333334;\n      } else if(axis.hardware == 'sapphire') {\n        gearRatio = 60;\n        // axis.unitSteps = 550.81967213;\n      } else if(axis.hardware == 'cognisys') {\n        gearRatio = 80;\n      } else {\n        return; // don't update anything if not Stage-R or Sapphire\n      }\n    } else {\n      return; // don't update anything if not NMX\n    }\n    axis.unitSteps = (200 * 16 * gearRatio) / 360;\n  }\n\n  updateHardware(axis) {\n      console.log(\"updating hardware\", axis)\n      this.updateRatios(axis);\n  }\n  updateType(axis) {\n      console.log(\"updating driver\", axis)\n      if(axis.name == 'Pan' || axis.name == 'Tilt' || axis.name == 'Polar') {\n          axis.unit = '°';\n          if(axis.driver == 'NMX') {\n              this.updateRatios(axis);\n          } else if(axis.driver == 'GM') {\n              axis.unitSteps = 1;\n          }\n      } else {\n          axis.unit = 's';\n          axis.unitSteps = 1;\n      }\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}